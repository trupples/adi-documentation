<!DOCTYPE html>

<html lang="en" data-content_root="../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />
<meta content="It is recommenced to use the pre-build images, which can be found at PlutoSDR Firmware releases. found at M2k Firmware releases. These are build and tested by Analog Devices, and should work on your PlutoSDR without issues." name="description" />

    <title>Building the Firmware Image &#8212; System Level Documentation  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=8e8a900e" />
    <link rel="stylesheet" type="text/css" href="../../_static/app.min.css?v=8d0b0339" />
    <link rel="stylesheet" type="text/css" href="../../_static/tabs.css?v=4c969af8" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css?v=4ae1632d" />
    <script src="../../_static/tabs.js?v=3ee01567"></script>
    <script async="async" src="../../_static/app.umd.js?v=2f9373fc"></script>
    <link rel="icon" href="../../_static/icon.svg"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Installing Drivers" href="drivers.html" />
    <link rel="prev" title="Common PLUTO&amp;M2K" href="index.html" />
   
  
  
  <meta name="repository" content="documentation">
  <meta name="version" content="">
  
    <meta name="page_source_suffix" content=".rst">
  
  
  


<style>
  body {
    
  }

  body.dark {
    
  }

  @media (prefers-color-scheme: dark) {
    body:not(.light) {
      
    }
  }
</style>
  </head><body>
  <input type="checkbox" id="input-show-toc">
  <input type="checkbox" id="input-show-localtoc">
  <input type="checkbox" id="input-show-repotoc">

  
  <div class="search-area">
    <form action="" method="get">
      <input type="text" name="q" aria-labelledby="search-documentation" value="" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="search" placeholder="Search"/>
      <button class="icon"></button>
    </form>
  </div>
  

  <header>
    <div id="left">
      <label id="show-sidebar" class="icon" for="input-show-toc" title="Show/hide index"></label>
    </div>
    <div id="right">
      <span>
        <a id="logo-org" href="https://analog.com" aria-label="Analog Devices Inc. landing page"></a>
        <div class="vertical-divider"></div>
        
        <label id="show-repotoc" for="input-show-repotoc" title="Show/hide docs" tabindex="0">Docs</label>
        
        <a id="logo" href="../../index.html">
          <div>System Level</div>
        </a>
      </span>
      <span class="reverse">
        <label id="show-localtoc" class="icon" for="input-show-localtoc" title="Show/hide contents"></label>
      </span>
    </div>
  </header>


  <div class="repotoc-tree overlay">
    <root>
  <a href="../../index.html" class="current">System Level</a>
</root>

  </div>
    <div class="localtoc">
      <div class="tocwrapper">
        <div class="header localtoc-header">
          <a id="scroll-up" href="#top-anchor" title="Back to top"></a>
        </div>
        <nav>
          <ul>
<li><a class="reference internal" href="#">Building the Firmware Image</a><ul>
<li><a class="reference internal" href="#prerequisites">Prerequisites</a></li>
<li><a class="reference internal" href="#building">Building</a><ul>
<li><a class="reference internal" href="#build-artifacts">Build Artifacts</a></li>
<li><a class="reference internal" href="#testing-on-the-target">Testing on the target</a></li>
<li><a class="reference internal" href="#main-targets">Main targets</a></li>
<li><a class="reference internal" href="#other-intermediate-targets">Other intermediate targets</a></li>
<li><a class="reference internal" href="#how-does-it-work">How does it work</a></li>
<li><a class="reference internal" href="#build-linux-kernel">Build Linux kernel</a><ul>
<li><a class="reference internal" href="#making-custom-kernel-changes">Making custom kernel changes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#build-devicetrees">Build Devicetrees</a></li>
<li><a class="reference internal" href="#build-buildroot-user-space">Build Buildroot User Space</a><ul>
<li><a class="reference internal" href="#configuring-buildroot">Configuring Buildroot</a></li>
</ul>
</li>
<li><a class="reference internal" href="#build-fpga-hardware-description-file">Build FPGA Hardware Description File</a></li>
<li><a class="reference internal" href="#build-fpga-first-stage-bootloader-fsbl">Build FPGA First Stage Bootloader (FSBL)</a></li>
<li><a class="reference internal" href="#build-multi-component-fit-image-flattened-image-tree">Build multi component FIT image (Flattened Image Tree)</a></li>
<li><a class="reference internal" href="#build-firmware-dfu-image">Build Firmware DFU image</a></li>
<li><a class="reference internal" href="#build-firmware-frm-image">Build Firmware FRM image</a></li>
<li><a class="reference internal" href="#build-u-boot">Build u-boot</a></li>
<li><a class="reference internal" href="#build-zynq-boot-image">Build Zynq Boot Image</a></li>
<li><a class="reference internal" href="#build-boot-dfu-image">Build Boot DFU Image</a></li>
<li><a class="reference internal" href="#build-u-boot-default-environment-image">Build u-boot default environment Image</a></li>
<li><a class="reference internal" href="#build-u-boot-default-environment-dfu-image">Build u-boot default environment DFU Image</a></li>
<li><a class="reference internal" href="#build-boot-frm-image">Build Boot FRM image</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </nav>
      </div>
    </div>

  
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
    <a id="no-logo" href="../../index.html">
      System Level Documentation
    </a><input id="input-switch-toc" type="checkbox">
<label id="show-repotoc" for="input-switch-toc">
All content
</label>
<label id="show-toc" for="input-switch-toc">
Content on this topic
</label>
<div class="repotoc-tree">
  <root>
  <a href="../../index.html" class="current">System Level</a>
</root>

</div>
<div class="toc-tree">
  <html>
  <body><p class="caption" role="heading"><span class="caption-text">Kuiper &amp; Linux Kernel</span></p>
<ul>
<li class="toctree-l1"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-1" id="toctree-collapse-1"/><div class="collapse"><a class="reference internal" href="../../linux/drivers/index.html">Linux drivers</a><label for="toctree-collapse-1"><div class="icon"></div></label></div><ul>
<li class="toctree-l2"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-1-1" id="toctree-collapse-1-1"/><div class="collapse"><a class="reference internal" href="../../linux/drivers/iio-adc/index.html">IIO ADC</a><label for="toctree-collapse-1-1"><div class="icon"></div></label></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../../linux/drivers/iio-adc/ad4052/index.html">AD4052</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../linux/drivers/iio-adc/ad9084/index.html">AD9084/AD9088</a></li>
</ul>
</li>
<li class="toctree-l2"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-1-2" id="toctree-collapse-1-2"/><div class="collapse"><a class="reference internal" href="../../linux/drivers/iio-transceiver/index.html">IIO Transceivers</a><label for="toctree-collapse-1-2"><div class="icon"></div></label></div><ul>
<li class="toctree-l3"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-1-2-1" id="toctree-collapse-1-2-1"/><div class="collapse"><a class="reference internal" href="../../linux/drivers/iio-transceiver/adrv9009/index.html">ADRV9009, ADRV9008-1, ADRV9008-2</a><label for="toctree-collapse-1-2-1"><div class="icon"></div></label></div><ul>
<li class="toctree-l4"><a class="reference internal" href="../../linux/drivers/iio-transceiver/adrv9009/customization.html">Customization</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-1-3" id="toctree-collapse-1-3"/><div class="collapse"><a class="reference internal" href="../../linux/drivers/iio/index.html">Linux Industrial I/O Subsystem</a><label for="toctree-collapse-1-3"><div class="icon"></div></label></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../../linux/drivers/iio/iio-trig-sysfs.html">iio-trig-sysfs driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../linux/drivers/iio/iio-trig-bfin-timer.html">iio-trig-bfin-timer driver</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-2" id="toctree-collapse-2"/><div class="collapse"><a class="reference internal" href="../../linux/kernel/index.html">Kernel and devicetrees</a><label for="toctree-collapse-2"><div class="icon"></div></label></div><ul>
<li class="toctree-l2"><a class="reference internal" href="../../linux/kernel/zynq.html">Build Zynq</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../linux/kernel/zynqmp.html">Build ZynqMP</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../linux/kernel/microblaze.html">Build MicroBlaze</a></li>
<li class="toctree-l2"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-2-1" id="toctree-collapse-2-1"/><div class="collapse"><a class="reference internal" href="../../linux/kernel/petalinux.html">Build with Petalinux</a><label for="toctree-collapse-2-1"><div class="icon"></div></label></div><ul>
<li class="toctree-l3"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-2-1-1" id="toctree-collapse-2-1-1"/><div class="collapse"><a class="reference internal" href="../../linux/kernel/petalinux-dts/index.html">Petalinux Device Trees</a><label for="toctree-collapse-2-1-1"><div class="icon"></div></label></div><ul>
<li class="toctree-l4"><a class="reference internal" href="../../linux/kernel/petalinux-dts/petalinux-custom-dts.html">Custom Device Trees with meta-adi</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../linux/kernel/petalinux-dts/petalinux-meta-adi-bypass.html">Custom Device Trees with DTG (meta-adi Bypass)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../linux/kernel/petalinux-dts/petalinux-system-user.html">Device Tree Modifications with system-user.dtsi</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-3" id="toctree-collapse-3"/><div class="collapse"><a class="reference internal" href="../../linux/kuiper/index.html">Kuiper Linux</a><label for="toctree-collapse-3"><div class="icon"></div></label></div><ul>
<li class="toctree-l2"><a class="reference internal" href="../../linux/kuiper/release-notes.html">Release notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../linux/kuiper/sdcard/index.html">SD card flashing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../linux/kuiper/project-list.html">Project list</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../linux/kuiper/update.html">Updating</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Software</span></p>
<ul>
<li class="toctree-l1"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-4" id="toctree-collapse-4"/><div class="collapse"><a class="reference internal" href="../../software/iio-oscilloscope/index.html">IIO Oscilloscope</a><label for="toctree-collapse-4"><div class="icon"></div></label></div><ul>
<li class="toctree-l2"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-4-1" id="toctree-collapse-4-1"/><div class="collapse"><a class="reference internal" href="../../software/iio-oscilloscope/adrv9009/index.html">ADRV9009</a><label for="toctree-collapse-4-1"><div class="icon"></div></label></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../../software/iio-oscilloscope/adrv9009/plugin.html">Standard Plugin</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../software/iio-oscilloscope/adrv9009/advanced-plugin.html">Advanced plugin</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-5" id="toctree-collapse-5"/><div class="collapse"><a class="reference internal" href="../../software/libiio/index.html">Libiio</a><label for="toctree-collapse-5"><div class="icon"></div></label></div><ul>
<li class="toctree-l2"><a class="reference internal" href="../../software/libiio/internals.html">About libiio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../software/libiio/cli.html">Command line utility</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../software/libiio/tips-tricks.html">Tips &amp; Tricks</a></li>
</ul>
</li>
<li class="toctree-l1"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-6" id="toctree-collapse-6"/><div class="collapse"><a class="reference internal" href="../../software/libm2k/index.html">Libm2k</a><label for="toctree-collapse-6"><div class="icon"></div></label></div><ul>
<li class="toctree-l2"><a class="reference internal" href="../../software/libm2k/calibration.html">Calibration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../software/libm2k/digital_communication.html">Digital communication</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../software/libm2k/m2kcli.html">Command line utility</a></li>
</ul>
</li>
<li class="toctree-l1"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-7" id="toctree-collapse-7"/><div class="collapse"><a class="reference internal" href="../../software/matlab/index.html">MATLAB &amp; Simulink Toolboxes</a><label for="toctree-collapse-7"><div class="icon"></div></label></div><ul>
<li class="toctree-l2"><a class="reference internal" href="../../software/matlab/hsx-toolbox/index.html">High Speed Converter Toolbox</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../software/matlab/transceiver-toolbox/index.html">Transceiver Toolbox</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../software/matlab/bsp-extend.html">Extending Device Interfaces</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../software/pyadi-iio/index.html">PyADI-IIO</a></li>
<li class="toctree-l1"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-8" id="toctree-collapse-8"/><div class="collapse"><a class="reference internal" href="../../software/zephyr/index.html">Zephyr RTOS</a><label for="toctree-collapse-8"><div class="icon"></div></label></div><ul>
<li class="toctree-l2"><a class="reference internal" href="../../software/zephyr/zephyr-devicetree.html">Intro to Devicetree</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../software/zephyr/kconfig/zephyr-kconfig.html">Introduction to Kconfig</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../software/zephyr/using-zephyr-codefusion-fs/zephyr_codefusion_fs.html">Using Zephyr &amp; Codefusion Studio to Partition a Flash Filesystem</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Evaluation Boards</span></p>
<ul>
<li class="toctree-l1"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-9" id="toctree-collapse-9"/><div class="collapse"><a class="reference internal" href="../../eval/user-guide/index.html">User guides</a><label for="toctree-collapse-9"><div class="icon"></div></label></div><ul>
<li class="toctree-l2"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-9-1" id="toctree-collapse-9-1"/><div class="collapse"><a class="reference internal" href="../../eval/user-guide/adc/ad4052-ardz/index.html">EVAL-AD4050/AD4052-ARDZ</a><label for="toctree-collapse-9-1"><div class="icon"></div></label></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../../eval/user-guide/adc/ad4052-ardz/user-guide.html">Evaluating the device</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../eval/user-guide/adc/ad9084-ebz/index.html">EVAL-AD9084-EBZ</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../eval/user-guide/mem/adxl355-pmdz/index.html">EVAL-ADXL355-PMDZ</a></li>
<li class="toctree-l2"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-9-2" id="toctree-collapse-9-2"/><div class="collapse"><a class="reference internal" href="../../eval/user-guide/transceiver/adrv9009/index.html">ADRV9009 &amp; ADRV9008</a><label for="toctree-collapse-9-2"><div class="icon"></div></label></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../../eval/user-guide/transceiver/adrv9009/prerequisites.html">Prerequisites</a></li>
<li class="toctree-l3"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-9-2-1" id="toctree-collapse-9-2-1"/><div class="collapse"><a class="reference internal" href="../../eval/user-guide/transceiver/adrv9009/quickstart/index.html">Quickstart</a><label for="toctree-collapse-9-2-1"><div class="icon"></div></label></div><ul>
<li class="toctree-l4"><a class="reference internal" href="../../eval/user-guide/transceiver/adrv9009/quickstart/zynqmp.html">ZCU102</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../eval/user-guide/transceiver/adrv9009/basic-iq-datafiles.html">Basic IQ Datafiles</a></li>
</ul>
</li>
<li class="toctree-l2"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-9-3" id="toctree-collapse-9-3"/><div class="collapse"><a class="reference internal" href="../../eval/user-guide/transceiver/adrv9026/index.html">ADRV9026 &amp; ADRV9029</a><label for="toctree-collapse-9-3"><div class="icon"></div></label></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../../eval/user-guide/transceiver/adrv9026/prerequisites.html">Prerequisites</a></li>
<li class="toctree-l3"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-9-3-1" id="toctree-collapse-9-3-1"/><div class="collapse"><a class="reference internal" href="../../eval/user-guide/transceiver/adrv9026/quickstart/index.html">Quickstart</a><label for="toctree-collapse-9-3-1"><div class="icon"></div></label></div><ul>
<li class="toctree-l4"><a class="reference internal" href="../../eval/user-guide/transceiver/adrv9026/quickstart/zynqmp.html">ZCU102</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../eval/user-guide/transceiver/adrv9026/quickstart/versal.html">VCK190</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Products &amp; Tools</span></p>
<ul class="current">
<li class="toctree-l1"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-10" id="toctree-collapse-10"/><div class="collapse"><a class="reference internal" href="../m2k/index.html">ADALM2000</a><label for="toctree-collapse-10"><div class="icon"></div></label></div><ul>
<li class="toctree-l2"><a class="reference internal" href="../m2k/devs/index.html">For Developers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../m2k/users/index.html">For End Users</a></li>
<li class="toctree-l2"><a class="reference internal" href="../m2k/help_support.html">Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../m2k/labview.html">Using With LabVIEW</a></li>
<li class="toctree-l2"><a class="reference internal" href="../m2k/matlab.html">Using with MATLAB</a></li>
</ul>
</li>
<li class="toctree-l1 current"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-11" id="toctree-collapse-11" checked=""/><div class="collapse"><a class="reference internal" href="index.html">Common PLUTO&amp;M2K</a><label for="toctree-collapse-11"><div class="icon"></div></label></div><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Building the Firmware Image</a></li>
<li class="toctree-l2"><a class="reference internal" href="drivers.html">Installing Drivers</a></li>
<li class="toctree-l2"><a class="reference internal" href="firmware.html">Firmware Updates</a></li>
<li class="toctree-l2"><a class="reference internal" href="obtaining_the_sources.html">Obtaining the Build Sources</a></li>
<li class="toctree-l2"><a class="reference internal" href="reboot.html">Rebooting</a></li>
<li class="toctree-l2"><a class="reference internal" href="usb_otg_host.html">USB OTG – HOST function Support</a></li>
</ul>
</li>
<li class="toctree-l1"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-12" id="toctree-collapse-12"/><div class="collapse"><a class="reference internal" href="../pluto/index.html">ADALM-PLUTO</a><label for="toctree-collapse-12"><div class="icon"></div></label></div><ul>
<li class="toctree-l2"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-12-1" id="toctree-collapse-12-1"/><div class="collapse"><a class="reference internal" href="../pluto/devs/index.html">For Developers</a><label for="toctree-collapse-12-1"><div class="icon"></div></label></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../pluto/devs/usb_otg.html">USB OTG</a></li>
</ul>
</li>
<li class="toctree-l2"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-12-2" id="toctree-collapse-12-2"/><div class="collapse"><a class="reference internal" href="../pluto/hacking/index.html">For Hackers</a><label for="toctree-collapse-12-2"><div class="icon"></div></label></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../pluto/hacking/hardware.html">ADALM-PLUTO Hardware</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pluto/hacking/listening_to_yourself.html">Self Reception</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pluto/hacking/power_amp.html">Controlling External Devices</a></li>
</ul>
</li>
<li class="toctree-l2"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-12-3" id="toctree-collapse-12-3"/><div class="collapse"><a class="reference internal" href="../pluto/users/index.html">For End Users</a><label for="toctree-collapse-12-3"><div class="icon"></div></label></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../pluto/users/antennas.html">Antennas</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../pluto/help_support.html">Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pluto/prerequisites.html">Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pluto/transceiver_transferring_data.html">Controlling the transceiver and transferring data</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../uartjtag/index.html">ADALM-UARTJTAG</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Apps &amp; Solutions</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../solutions/application-software/index.html">Application Software</a></li>
<li class="toctree-l1"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-13" id="toctree-collapse-13"/><div class="collapse"><a class="reference internal" href="../../solutions/reference-designs/index.html">Reference Designs</a><label for="toctree-collapse-13"><div class="icon"></div></label></div><ul>
<li class="toctree-l2"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-13-1" id="toctree-collapse-13-1"/><div class="collapse"><a class="reference internal" href="../../solutions/reference-designs/ad-acevsecrdset-sl/index.html">AD-ACEVSECRDSET-SL</a><label for="toctree-collapse-13-1"><div class="icon"></div></label></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../../solutions/reference-designs/ad-acevsecrdset-sl/hardware-guide/index.html">Hardware User Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../solutions/reference-designs/ad-acevsecrdset-sl/software-guide/index.html">Software User Guide</a></li>
</ul>
</li>
<li class="toctree-l2"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-13-2" id="toctree-collapse-13-2"/><div class="collapse"><a class="reference internal" href="../../solutions/reference-designs/ad-apard32690-sl/index.html">AD-APARD32690-SL</a><label for="toctree-collapse-13-2"><div class="icon"></div></label></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../../solutions/reference-designs/ad-apard32690-sl/ad-t1lusb-ebz/index.html">AD-T1LUSB2.0-EBZ</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../solutions/reference-designs/ad-apard32690-sl/nina-w102/index.html">NINA-W102 Networking Support</a></li>
</ul>
</li>
<li class="toctree-l2"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-13-3" id="toctree-collapse-13-3"/><div class="collapse"><a class="reference internal" href="../../solutions/reference-designs/ad-bmse2e3w-sl/index.html">AD-BMSE2E3W-SL</a><label for="toctree-collapse-13-3"><div class="icon"></div></label></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../../solutions/reference-designs/ad-bmse2e3w-sl/sample_application/index.html">Sample Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../solutions/reference-designs/ad-bmse2e3w-sl/software_guide/index.html">Software User Guide</a></li>
</ul>
</li>
<li class="toctree-l2"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-13-4" id="toctree-collapse-13-4"/><div class="collapse"><a class="reference internal" href="../../solutions/reference-designs/ad-cellpackbm-sl/index.html">AD-CELLPACKBM-SL</a><label for="toctree-collapse-13-4"><div class="icon"></div></label></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../../solutions/reference-designs/ad-cellpackbm-sl/hardware_guide/index.html">Hardware User Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../solutions/reference-designs/ad-cellpackbm-sl/software_guide/index.html">Software User Guide</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../solutions/reference-designs/ad-gmsl-d-e-adp/index.html">AD-GMSL-D-E-ADP#</a></li>
<li class="toctree-l2"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-13-5" id="toctree-collapse-13-5"/><div class="collapse"><a class="reference internal" href="../../solutions/reference-designs/ad-gmsl522-sl/index.html">AD-GMSL522-SL</a><label for="toctree-collapse-13-5"><div class="icon"></div></label></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../../solutions/reference-designs/ad-gmsl522-sl/hardware-guide/index.html">Hardware Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../solutions/reference-designs/ad-gmsl522-sl/software-guide/index.html">Software Guide</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../solutions/reference-designs/ad-gmsl716mipi-evk/index.html">AD-GMSL716MIPI-EVK</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../solutions/reference-designs/ad-gmsl717mipi-evk/index.html">AD-GMSL717MIPI-EVK</a></li>
<li class="toctree-l2"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-13-6" id="toctree-collapse-13-6"/><div class="collapse"><a class="reference internal" href="../../solutions/reference-designs/ad-gmslcamrpi-adp/index.html">AD-GMSLCAMRPI-ADP#</a><label for="toctree-collapse-13-6"><div class="icon"></div></label></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../../solutions/reference-designs/ad-gmslcamrpi-adp/amd-kria/index.html">Using with AMD Kria</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../solutions/reference-designs/ad-gmslcamrpi-adp/nvidia-jetson/index.html">Using with Nvidia Jetson Orin Nano</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../solutions/reference-designs/ad-gmslcamrpi-adp/raspberry-pi-user-guide/index.html">Using with Raspberry Pi</a></li>
</ul>
</li>
<li class="toctree-l2"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-13-7" id="toctree-collapse-13-7"/><div class="collapse"><a class="reference internal" href="../../solutions/reference-designs/ad-paarray3552r-sl/index.html">AD-PAARRAY3552R-SL</a><label for="toctree-collapse-13-7"><div class="icon"></div></label></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../../solutions/reference-designs/ad-paarray3552r-sl/hardware-guide/index.html">Hardware User Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../solutions/reference-designs/ad-paarray3552r-sl/software-guide/index.html">Software User Guide</a></li>
</ul>
</li>
<li class="toctree-l2"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-13-8" id="toctree-collapse-13-8"/><div class="collapse"><a class="reference internal" href="../../solutions/reference-designs/ad-pqmon-sl/index.html">AD-PQMON-SL</a><label for="toctree-collapse-13-8"><div class="icon"></div></label></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../../solutions/reference-designs/ad-pqmon-sl/hardware-guide/index.html">Hardware User Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../solutions/reference-designs/ad-pqmon-sl/software-guide/index.html">Software User Guide</a></li>
</ul>
</li>
<li class="toctree-l2"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-13-9" id="toctree-collapse-13-9"/><div class="collapse"><a class="reference internal" href="../../solutions/reference-designs/ad-r1m/index.html">AD-R1M</a><label for="toctree-collapse-13-9"><div class="icon"></div></label></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../../solutions/reference-designs/ad-r1m/quick-start-guide.html">AD-R1M Quick Start Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../solutions/reference-designs/ad-r1m/use-cases.html">AD-R1M Use Case Examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../solutions/reference-designs/ad-r1m/hardware-guide.html">AD-R1M Hardware Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../solutions/reference-designs/ad-r1m/system-setup.html">AD-R1M System Setup</a></li>
<li class="toctree-l3"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-13-9-1" id="toctree-collapse-13-9-1"/><div class="collapse"><a class="reference internal" href="../../solutions/reference-designs/ad-r1m/software-guide.html">AD-R1M Software Guide</a><label for="toctree-collapse-13-9-1"><div class="icon"></div></label></div><ul>
<li class="toctree-l4"><a class="reference internal" href="../../solutions/reference-designs/ad-r1m/software-guide/ros2-getting-started.html">AD-R1M ROS 2 Getting Started</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../solutions/reference-designs/ad-r1m/software-guide/ros2-examples.html">AD-R1M ROS2 examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../solutions/reference-designs/ad-r1m/software-guide/ros2-architecture.html">AD-R1M ROS2 Architecture</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../solutions/reference-designs/ad-r1m/software-guide/ros2-milano-robot-quickstart.html">AD-R1M Milano Robot Quickstart</a></li>
</ul>
</li>
<li class="toctree-l3"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-13-9-2" id="toctree-collapse-13-9-2"/><div class="collapse"><a class="reference internal" href="../../solutions/reference-designs/ad-r1m/advanced-usage.html">AD-R1M Advanced Usage</a><label for="toctree-collapse-13-9-2"><div class="icon"></div></label></div><ul>
<li class="toctree-l4"><a class="reference internal" href="../../solutions/reference-designs/ad-r1m/advanced-usage/linux-system.html">AD-R1M Linux, systemd, docker</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../solutions/reference-designs/ad-r1m/advanced-usage/ros2-writing-your-own-nodes.html">Writing your own ROS 2 nodes for AD-R1M</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../solutions/reference-designs/ad-r1m/troubleshooting.html">AD-R1M Troubleshooting</a></li>
</ul>
</li>
<li class="toctree-l2"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-13-10" id="toctree-collapse-13-10"/><div class="collapse"><a class="reference internal" href="../../solutions/reference-designs/ad-swiot1l-sl/index.html">AD-SWIOT1L-SL</a><label for="toctree-collapse-13-10"><div class="icon"></div></label></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../../solutions/reference-designs/ad-swiot1l-sl/hardware-guide/index.html">Hardware User Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../solutions/reference-designs/ad-swiot1l-sl/software-guide/index.html">Software User Guide</a></li>
</ul>
</li>
<li class="toctree-l2"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-13-11" id="toctree-collapse-13-11"/><div class="collapse"><a class="reference internal" href="../../solutions/reference-designs/admv96s-wgbe-ek1/index.html">ADMV96S-WGBE-EK1</a><label for="toctree-collapse-13-11"><div class="icon"></div></label></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../../solutions/reference-designs/admv96s-wgbe-ek1/hardware-guide/index.html">Hardware User Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../solutions/reference-designs/admv96s-wgbe-ek1/software-guide/index.html">Software User Guide</a></li>
</ul>
</li>
<li class="toctree-l2"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-13-12" id="toctree-collapse-13-12"/><div class="collapse"><a class="reference internal" href="../../solutions/reference-designs/adrd3161/index.html">ADRD3161</a><label for="toctree-collapse-13-12"><div class="icon"></div></label></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../../solutions/reference-designs/adrd3161/quick-start-guide.html">ADRD3161 Quick Start Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../solutions/reference-designs/adrd3161/hardware-guide.html">ADRD3161 Hardware Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../solutions/reference-designs/adrd3161/software-guide.html">ADRD3161 Software Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../solutions/reference-designs/adrd3161/troubleshooting.html">ADRD3161 Troubleshooting</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../solutions/reference-designs/adrd3161/canopen.html">ADRD3161 CANopen reference</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../solutions/reference-designs/adrd3161/production-guide.html">ADRD3161 Production Guide</a></li>
</ul>
</li>
<li class="toctree-l2"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-13-13" id="toctree-collapse-13-13"/><div class="collapse"><a class="reference internal" href="../../solutions/reference-designs/adrd4161/index.html">ADRD4161</a><label for="toctree-collapse-13-13"><div class="icon"></div></label></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../../solutions/reference-designs/adrd4161/quick-start-guide.html">ADRD4161 Quick Start Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../solutions/reference-designs/adrd4161/hardware-guide.html">ADRD4161 Hardware Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../solutions/reference-designs/adrd4161/software-guide.html">ADRD4161 Software Guide</a></li>
</ul>
</li>
<li class="toctree-l2"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-13-14" id="toctree-collapse-13-14"/><div class="collapse"><a class="reference internal" href="../../solutions/reference-designs/adrd5161/index.html">ADRD5161</a><label for="toctree-collapse-13-14"><div class="icon"></div></label></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../../solutions/reference-designs/adrd5161/quick-start-guide.html">ADRD5161 Quick Start Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../solutions/reference-designs/adrd5161/hardware-guide.html">ADRD5161 Hardware Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../solutions/reference-designs/adrd5161/software-guide.html">ADRD5161 Software Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../solutions/reference-designs/adrd5161/canopen.html">ADRD5161 CANopen reference</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../solutions/reference-designs/adrd8012-01Z/index.html">ADRD8012-01Z</a></li>
<li class="toctree-l2"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-13-15" id="toctree-collapse-13-15"/><div class="collapse"><a class="reference internal" href="../../solutions/reference-designs/eval-adbms6830bmsw/index.html">EVAL-ADBMS6830BMSW</a><label for="toctree-collapse-13-15"><div class="icon"></div></label></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../../solutions/reference-designs/eval-adbms6830bmsw/software-guide/index.html">Software User Guide</a></li>
</ul>
</li>
<li class="toctree-l2"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-13-16" id="toctree-collapse-13-16"/><div class="collapse"><a class="reference internal" href="../../solutions/reference-designs/eval-cn0503-ardz/index.html">EVAL-CN0503-ARDZ</a><label for="toctree-collapse-13-16"><div class="icon"></div></label></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../../solutions/reference-designs/eval-cn0503-ardz/cn0503-software/index.html">Software User Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../solutions/reference-designs/eval-cn0503-ardz/fluorescence-measurement/index.html">Fluorescence Measurement Demo</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../solutions/reference-designs/eval-cn0503-ardz/nitrate-measurement/index.html">Nitrate Measurement Demo</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../solutions/reference-designs/eval-cn0503-ardz/pH-measurement/index.html">pH Measurement Demo</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../solutions/reference-designs/eval-cn0503-ardz/turbidity/index.html">Turbidity Measurement Demo</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../solutions/reference-designs/eval-cn0565-ardz/index.html">EVAL-CN0565-ARDZ</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../solutions/reference-designs/eval-cn0575-rpiz/index.html">EVAL-CN0575-RPIZ</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../solutions/reference-designs/eval-cn0577-fmcz/index.html">EVAL-CN0577-FMCZ</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../solutions/reference-designs/eval-cn0581-ebz/index.html">EVAL-CN0581-EBZ</a></li>
<li class="toctree-l2"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-13-17" id="toctree-collapse-13-17"/><div class="collapse"><a class="reference internal" href="../../solutions/reference-designs/eval-cn0584-ebz/index.html">EVAL-CN0584-EBZ</a><label for="toctree-collapse-13-17"><div class="icon"></div></label></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../../solutions/reference-designs/eval-cn0584-ebz/digital-template/index.html">Digital Template Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../solutions/reference-designs/eval-cn0584-ebz/matlab-configuration/index.html">MATLAB Configuration</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../solutions/reference-designs/eval-cn0585-fmcz/index.html">EVAL-CN0585-FMCZ</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../solutions/reference-designs/eval-ess1-sys/index.html">EVAL-ESS1-SYS</a></li>
<li class="toctree-l2"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-13-18" id="toctree-collapse-13-18"/><div class="collapse"><a class="reference internal" href="../../solutions/reference-designs/eval-isomax/index.html">EVAL-ISOMAX</a><label for="toctree-collapse-13-18"><div class="icon"></div></label></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../../solutions/reference-designs/eval-isomax/hardware_guide/index.html">Hardware User Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../solutions/reference-designs/eval-isomax/software_guide/index.html">Software User Guide</a></li>
</ul>
</li>
<li class="toctree-l2"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-13-19" id="toctree-collapse-13-19"/><div class="collapse"><a class="reference internal" href="../../solutions/reference-designs/eval-ltpa-kit/index.html">EVAL-LTPA-KIT (LTpowerAnalyzer Kit)</a><label for="toctree-collapse-13-19"><div class="icon"></div></label></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../../solutions/reference-designs/eval-ltpa-kit/hardware_guide/index.html">EVAL-LTPA-KIT Hardware User Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../solutions/reference-designs/eval-ltpa-kit/software_guide/index.html">EVAL-LTPA-KIT Software Guide</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">University Program</span></p>
<ul>
<li class="toctree-l1"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-14" id="toctree-collapse-14"/><div class="collapse"><a class="reference internal" href="../../university/index.html">Engineering University Program</a><label for="toctree-collapse-14"><div class="icon"></div></label></div><ul>
<li class="toctree-l2"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-14-1" id="toctree-collapse-14-1"/><div class="collapse"><a class="reference internal" href="../../university/active_learning/index.html">Active Learning: Student-oriented Lab Exercises</a><label for="toctree-collapse-14-1"><div class="icon"></div></label></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../../university/active_learning/wien_bridge_oscillator/index.html">Activity: The Wien Bridge Oscillator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../university/active_learning/efficiency_power_loss/index.html">Activity: Efficiency, Power Loss, and Thermal Management</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Learning</span></p>
<ul>
<li class="toctree-l1"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-15" id="toctree-collapse-15"/><div class="collapse"><a class="reference internal" href="../../learning/index.html">Learning! Tutorials, Workshops, Etc</a><label for="toctree-collapse-15"><div class="icon"></div></label></div><ul>
<li class="toctree-l2"><a class="reference internal" href="../../learning/tutorial_prec_adc/index.html">Precision ADC Tutorial</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../learning/converter_connectivity_tutorial/index.html">Converter Connectivity Tutorial</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../learning/sw_infrastructure/index.html">Software Infrastructure for designing with ADCs, DACs, and Sensors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../learning/tools_for_ls/index.html">Tools for Low Speed Mixed Signal System Design</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../learning/tools_for_prec_wb/index.html">Tools for Precision Wideband Mixed Signal System Design</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../learning/tools_for_hs/index.html">Tools for High-Speed Mixed Signal System Design</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../learning/workshop_what_sw_for_sdr/index.html">What software do I need for my SDR?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../learning/workshop_a_precision_converter_fpga_integration_journey/index.html">A Precision Converter FPGA Integration Journey</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../learning/workshops_software_defined_instrumentation/index.html">Software Defined Instrumentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../learning/workshops_introduction_to_electronics/index.html">Introduction to Electronics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../learning/workshops_embedded_baremetal/index.html">Embedded Baremetal</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../learning/workshops_embedded_linux/index.html">Embedded Linux</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Contributing and Guidelines</span></p>
<ul>
<li class="toctree-l1"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-16" id="toctree-collapse-16"/><div class="collapse"><a class="reference internal" href="../../contributing/creating_new_pages.html">Creating new pages</a><label for="toctree-collapse-16"><div class="icon"></div></label></div><ul>
<li class="toctree-l2"><a class="reference internal" href="../../contributing/template/eval.html">Evaluation Boards</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/docs_guidelines.html">Documentation guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/forking_publishing.html">Forking and publishing</a></li>
</ul>
</body>
</html>

</div>
        </div>
      </div>

  <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper" id="top-anchor">
          <div class="body-header">
  <nav class="breadcrumb"><ol><li><a href="index.html">Common PLUTO&amp;M2K</a></li></ol></nav>
</div>
          <div class="body" role="main">
            
  <section id="building-the-firmware-image">
<span id="pluto-m2k-building-the-image"></span><h1>Building the Firmware Image<a class="headerlink" href="#building-the-firmware-image" title="Link to this heading"></a></h1>
<p>It is recommenced to use the pre-build images, which can be
found at <a class="icon git reference external" href="https://github.com/analogdevicesinc/plutosdr-fw/releases/latest" target="_blank">PlutoSDR Firmware releases</a>.
found at <a class="icon git reference external" href="https://github.com/analogdevicesinc/m2k-fw/releases/latest" target="_blank">M2k Firmware releases</a>.
These are build and tested by Analog Devices, and should work on your PlutoSDR
without issues.</p>
<p>If you want to change functionality, you will need to follow
these instructions. To test your image, it is recommended to use the
<a class="reference internal" href="reboot.html#pluto-m2k-reboot-dfu-ram"><span class="std std-ref">RAM Boot</span></a> rather than
writing to flash the first time. This keep the default firmware while you are
testing your image, so if something goes wrong - its a quick power cycle to fix
things.</p>
<section id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Link to this heading"></a></h2>
<ol class="arabic">
<li><p>Make sure to download, or upgrade your
<a class="reference internal" href="obtaining_the_sources.html#pluto-m2k-obtaining-the-sources"><span class="std std-ref">Sources</span></a></p>
<ul>
<li><p>Make sure you have the recommended/required Vivado versions. It’s likely
listed in the <em>archive</em> section of the Xilinx web site. To check out what
you need, look at the following tcl file (which was checked out in the
sources link above).</p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~/github/temp/plutosdr-fw$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>grep<span class="w"> </span>-i<span class="w"> </span>REQUIRED_VIVADO_VERSION<span class="w"> </span><span class="k">$(</span>find<span class="w"> </span>./<span class="w"> </span>-name<span class="w"> </span><span class="s2">&quot;adi*.tcl&quot;</span><span class="k">)</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span><span class="nb">set</span>
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select highlight-text notranslate"><div class="highlight"><pre><span></span>set required_vivado_version &quot;2021.1&quot;
</pre></div>
</div>
<div class="clear-left"></div></div></div></li>
</ul>
</li>
<li><p>You need <a class="icon link reference external" href="https://www.xilinx.com/support/download.html" target="_blank">Xilinx Vivado Design Suite</a> to
compile the Verilog into the FPGA bit file.</p></li>
<li><p>You need <a class="icon link reference external" href="https://www.xilinx.com/support/download/index.html/content/xilinx/en/downloadNav/vitis.html" target="_blank">Xilinx Vivado Vitis</a>
to compile C code for the ARM inside the AMD Zynq.</p>
<ul class="simple">
<li><p>If you are using very old versions of Xilinx tools, you need to make sure
that you have the 32-bit libraries (the Xilinx tools are distributed as
32-bit binaries).</p></li>
</ul>
</li>
</ol>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~/github/temp/plutosdr-fw$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>find<span class="w"> </span>/opt/Xilinx/<span class="w"> </span>-name<span class="w"> </span>vivado<span class="w"> </span>-executable<span class="w"> </span>-type<span class="w"> </span>f<span class="w"> </span><span class="p">|</span><span class="w"> </span>xargs<span class="w"> </span>file<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>ELF
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select highlight-text notranslate"><div class="highlight"><pre><span></span>/opt/Xilinx/Vivado/2021.2/bin/unwrapped/lnx64.o/vivado: ELF 64-bit LSB executable,
x86-64, version 1 (GNU/Linux), dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2,
for GNU/Linux 2.6.18, not stripped
</pre></div>
</div>
<div class="clear-left"></div></div></div><p>If it reports as a 32-bit binary (which the above did not), and you are running
on a 64-bit system, do:</p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~/devel$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>dpkg<span class="w"> </span>--add-architecture<span class="w"> </span>i386
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~/devel$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>apt-get<span class="w"> </span>update
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~/devel$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>libc6:i386<span class="w"> </span>libstdc++6:i386
</pre></div>
</div>
<div class="clear-left"></div></div></div><p>There are a few other tools that are necessary in order to build your own
Firmware Image.</p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~/devel$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>git<span class="w"> </span>build-essential<span class="w"> </span>ccache<span class="w"> </span>device-tree-compiler<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>dfu-util<span class="w"> </span>fakeroot<span class="w"> </span>help2man<span class="w"> </span>libncurses5-dev<span class="w"> </span>libssl1.0-dev<span class="w"> </span>mtools<span class="w"> </span>rsync<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>u-boot-tools<span class="w"> </span>bc<span class="w"> </span>python<span class="w"> </span>cpio<span class="w"> </span>zip<span class="w"> </span>unzip<span class="w"> </span>file<span class="w"> </span>wget
</pre></div>
</div>
<div class="clear-left"></div></div></div></section>
<section id="building">
<h2>Building<a class="headerlink" href="#building" title="Link to this heading"></a></h2>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>It is recommended that if you are building in a Virtual Machine
(which is totally fine), the Base Memory be set to at least 4096 MBytes. The
AMD Xilinx <a class="icon link reference external" href="https://www.xilinx.com/products/design-tools/vivado/memory.html" target="_blank">Vivado</a> tools
require at least 1.6 Gig of memory when compile for the <code class="docutils literal notranslate"><span class="pre">XC7Z010</span></code>. It has been
reported that 2048 Mbytes is not enough, and will cause the tools to hang.</p>
</div>
<p>Starting the build process is just a matter of typing <code class="docutils literal notranslate"><span class="pre">make</span></code> within the
firmware repository. The Makefile requires a few environmental variables being
set, and of course the ARM GCC toolchain in the PATH. Some paths maybe adjusted
to match your Xilinx Vivado and Vitis install folders.</p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~/devel$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span>plutosdr-fw<span class="w"> </span><span class="c1"># or m2k-fw</span>
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~/devel/plutosdr-fw$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span><span class="w"> </span><span class="nv">CROSS_COMPILE</span><span class="o">=</span>arm-linux-gnueabihf-
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~/devel/plutosdr-fw$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span><span class="w"> </span><span class="nv">PATH</span><span class="o">=</span><span class="nv">$PATH</span>:/opt/Xilinx/Vitis/2021.2/gnu/aarch32/lin/gcc-arm-linux-gnueabi/bin
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~/devel/plutosdr-fw$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span><span class="w"> </span><span class="nv">VIVADO_SETTINGS</span><span class="o">=</span>/opt/Xilinx/Vivado/2021.2/settings64.sh
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~/devel/plutosdr-fw$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>make
</pre></div>
</div>
<div class="clear-left"></div></div></div><p>The initial build takes some time to complete, and also requires an INTERNET
connection, since <a class="icon link reference external" href="https://buildroot.org/" target="_blank">buildroot</a> downloads the source
packages from the WEB.</p>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>Depending on your distribution, you may need to force Vivado to use
Gtk2. You can do that by adding:</p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~/devel/plutosdr-fw$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span><span class="w"> </span><span class="nv">SWT_GTK3</span><span class="o">=</span><span class="m">0</span>
</pre></div>
</div>
<div class="clear-left"></div></div></div></div>
<p>before you type <code class="docutils literal notranslate"><span class="pre">make</span></code>.</p>
<section id="build-artifacts">
<h3>Build Artifacts<a class="headerlink" href="#build-artifacts" title="Link to this heading"></a></h3>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~/devel/plutosdr-fw$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ls<span class="w"> </span>-AGhl<span class="w"> </span>build
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select highlight-text notranslate"><div class="highlight"><pre><span></span>total 52M
-rw-rw-r-- 1 michael   69 Apr 19 17:45 boot.bif
-rw-rw-r-- 1 michael 446K Apr 19 17:45 boot.bin
-rw-rw-r-- 1 michael 446K Apr 19 17:45 boot.dfu
-rw-rw-r-- 1 michael 575K Apr 19 17:45 boot.frm
-rw-rw-r-- 1 michael 8,3M Apr 19 17:45 pluto.dfu
-rw-rw-r-- 1 michael 8,3M Apr 19 17:45 pluto.frm
-rw-rw-r-- 1 michael   33 Apr 19 17:45 pluto.frm.md5
-rw-rw-r-- 1 michael 8,3M Apr 19 17:45 pluto.itb
-rw-rw-r-- 1 michael  16M Apr 19 17:45 plutosdr-fw-v0.20.zip
-rw-rw-r-- 1 michael 471K Apr 19 17:45 plutosdr-jtag-bootstrap-v0.20.zip
-rw-r--r-- 1 michael 4,2M Apr 19 17:39 rootfs.cpio.gz
drwxrwxr-x 6 michael 4,0K Apr 19 17:45 sdk
-rw-rw-r-- 1 michael 940K Apr 19 17:45 system_top.bit
-rw-rw-r-- 1 michael 362K Apr 19 17:45 system_top.hdf
-rwxrwxr-x 1 michael 409K Apr 19 17:45 u-boot.elf
-rw-rw---- 1 michael 128K Apr 19 17:45 uboot-env.bin
-rw-rw---- 1 michael 129K Apr 19 17:45 uboot-env.dfu
-rw-rw-r-- 1 michael 4,6K Apr 19 17:45 uboot-env.txt
-rwxrwxr-x 1 michael 3,2M Apr 19 17:33 zImage
-rw-rw-r-- 1 michael  16K Apr 19 17:39 zynq-pluto-sdr.dtb
-rw-rw-r-- 1 michael  16K Apr 19 17:39 zynq-pluto-sdr-revb.dtb
</pre></div>
</div>
<div class="clear-left"></div></div></div></section>
<section id="testing-on-the-target">
<h3>Testing on the target<a class="headerlink" href="#testing-on-the-target" title="Link to this heading"></a></h3>
<p>There is a script in the <a class="icon git reference external" href="https://github.com/analogdevicesinc/plutosdr_scripts/" target="_blank">plutosdr_scripts</a> repo
that will quickly download a build artifact (the <code class="docutils literal notranslate"><span class="pre">pluto.dfu</span></code> file) to an USB
attached PlutoSDR. This will load the image into RAM, and not write to flash,
enabling easy testing of images. However, since it is loading into RAM, it is
not a persistent update over power cycles or further reboots.</p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~/github/plutosdr-fw$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>../plutosdr_scripts/pluto_ramboot
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select highlight-text notranslate"><div class="highlight"><pre><span></span>Found Pluto SDR at IP 192.168.3.1, running kernel:
    Linux pluto 5.4.0-00535-g9c04de11ae53 #1 SMP PREEMPT Fri Aug 20 13:01:03 CEST 2021 armv7l GNU/Linux
Found Pluto SDR in dfu mode and downloading ./build/pluto.dfu
successfully downloaded
Found new PlutoSDR at 192.168.3.1, running kernel:
    Linux pluto 5.4.0-00535-g9c04de11ae53 #1 SMP PREEMPT Tue Feb 15 16:17:50 EST 2022 armv7l GNU/Linux
</pre></div>
</div>
<div class="clear-left"></div></div></div></section>
<section id="main-targets">
<h3>Main targets<a class="headerlink" href="#main-targets" title="Link to this heading"></a></h3>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>File</p></th>
<th class="head"><p>Comment</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>pluto.frm</p></td>
<td><p>Main PlutoSDR firmware file used with the USB Mass Storage Device</p></td>
</tr>
<tr class="row-odd"><td><p>pluto.dfu</p></td>
<td><p>Main PlutoSDR firmware file used in DFU mode</p></td>
</tr>
<tr class="row-even"><td><p>boot.frm</p></td>
<td><p>First and Second Stage Bootloader (u-boot + fsbl + uEnv) used with the
USB Mass Storage Device</p></td>
</tr>
<tr class="row-odd"><td><p>boot.dfu</p></td>
<td><p>First and Second Stage Bootloader (u-boot + fsbl) used in DFU mode</p></td>
</tr>
<tr class="row-even"><td><p>uboot-env.dfu</p></td>
<td><p>u-boot default environment used in DFU mode</p></td>
</tr>
<tr class="row-odd"><td><p>plutosdr-fw-vX.XX.zip</p></td>
<td><p>ZIP archive containg all of the files above</p></td>
</tr>
<tr class="row-even"><td><p>plutosdr-jtag-bootstrap-vX.XX.zip</p></td>
<td><p>ZIP archive containg u-boot and Vivao TCL used for JATG bootstrapping</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="other-intermediate-targets">
<h3>Other intermediate targets<a class="headerlink" href="#other-intermediate-targets" title="Link to this heading"></a></h3>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>File</p></th>
<th class="head"><p>Comment</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>boot.bif</p></td>
<td><p>Boot Image Format file used to generate the Boot Image</p></td>
</tr>
<tr class="row-odd"><td><p>boot.bin</p></td>
<td><p>Final Boot Image</p></td>
</tr>
<tr class="row-even"><td><p>pluto.frm.md5</p></td>
<td><p>md5sum of the pluto.frm file</p></td>
</tr>
<tr class="row-odd"><td><p>pluto.itb</p></td>
<td><p>u-boot Flattened Image Tree</p></td>
</tr>
<tr class="row-even"><td><p>rootfs.cpio.gz</p></td>
<td><p>The Root Filesystem archive</p></td>
</tr>
<tr class="row-odd"><td><p>sdk</p></td>
<td><p>Vivado/XSDK Build folder including the FSBL</p></td>
</tr>
<tr class="row-even"><td><p>system_top.bit</p></td>
<td><p>FPGA Bitstream (from HDF)</p></td>
</tr>
<tr class="row-odd"><td><p>system_top.hdf</p></td>
<td><p>FPGA Hardware Description File exported by Vivado</p></td>
</tr>
<tr class="row-even"><td><p>u-boot.elf</p></td>
<td><p>u-boot ELF Binary</p></td>
</tr>
<tr class="row-odd"><td><p>uboot-env.bin</p></td>
<td><p>u-boot default environment in binary format created form uboot-env.txt</p></td>
</tr>
<tr class="row-even"><td><p>uboot-env.txt</p></td>
<td><p>u-boot default environment in human readable text format</p></td>
</tr>
<tr class="row-odd"><td><p>zImage</p></td>
<td><p>Compressed Linux Kernel Image</p></td>
</tr>
<tr class="row-even"><td><p>zynq-pluto-sdr.dtb</p></td>
<td><p>Device Tree Blob for Rev.A</p></td>
</tr>
<tr class="row-odd"><td><p>zynq-pluto-sdr-revb.dtb</p></td>
<td><p>Device Tree Blob for Rev.B</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="how-does-it-work">
<h3>How does it work<a class="headerlink" href="#how-does-it-work" title="Link to this heading"></a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>All these steps are automatically handled by make. They are just
explained here, for those who are interested.</p>
</div>
</section>
<section id="build-linux-kernel">
<h3>Build Linux kernel<a class="headerlink" href="#build-linux-kernel" title="Link to this heading"></a></h3>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Function</p></th>
<th class="head"><p>File</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>PlutoSDR Linux Kernel Config</p></td>
<td><p><a class="icon git reference external" href="https://github.com/analogdevicesinc/linux/tree/main/arch/arm/configs/zynq_pluto_defconfig" target="_blank">zynq_pluto_defconfig</a></p></td>
</tr>
</tbody>
</table>
</div>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>make<span class="w"> </span>-C<span class="w"> </span>linux<span class="w"> </span><span class="nv">ARCH</span><span class="o">=</span>arm<span class="w"> </span>zynq_pluto_defconfig
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>make<span class="w"> </span>-C<span class="w"> </span>linux<span class="w"> </span>-j<span class="w"> </span><span class="m">8</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="nv">UIMAGE_LOADADDR</span><span class="o">=</span>0x8000<span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="nv">ARCH</span><span class="o">=</span>arm<span class="w"> </span><span class="nv">CROSS_COMPILE</span><span class="o">=</span>arm-xilinx-linux-gnueabi-<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>zImage
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cp<span class="w"> </span>linux/arch/arm/boot/zImage<span class="w"> </span>build/zImage
</pre></div>
</div>
<div class="clear-left"></div></div></div><section id="making-custom-kernel-changes">
<h4>Making custom kernel changes<a class="headerlink" href="#making-custom-kernel-changes" title="Link to this heading"></a></h4>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>Normal users should not need to change their kernel, and this is
only described for advanced users, or developers who periodically forget things</p>
</div>
<p>The command</p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>make<span class="w"> </span>-C<span class="w"> </span>linux<span class="w"> </span><span class="nv">ARCH</span><span class="o">=</span>arm<span class="w"> </span>zynq_pluto_defconfig
</pre></div>
</div>
<div class="clear-left"></div></div></div><p>copies the file from <code class="docutils literal notranslate"><span class="pre">arch/arm/configs/zynq_pluto_defconfig</span></code> to <code class="docutils literal notranslate"><span class="pre">.config</span></code>
and</p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>make<span class="w"> </span>-C<span class="w"> </span>linux<span class="w"> </span>-j<span class="w"> </span><span class="m">8</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="nv">ARCH</span><span class="o">=</span>arm<span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="nv">CROSS_COMPILE</span><span class="o">=</span>arm-xilinx-linux-gnueabi-<span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="nv">UIMAGE_LOADADDR</span><span class="o">=</span>0x8000<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>zImage
</pre></div>
</div>
<div class="clear-left"></div></div></div><p>builds it.</p>
<p>If you want to make a custom kernel, the easiest thing to do, is modify the
<code class="docutils literal notranslate"><span class="pre">.config</span></code> with</p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>make<span class="w"> </span>-C<span class="w"> </span>linux<span class="w"> </span><span class="nv">ARCH</span><span class="o">=</span>arm<span class="w"> </span>zynq_pluto_defconfig
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>make<span class="w"> </span>-C<span class="w"> </span>linux<span class="w"> </span><span class="nv">ARCH</span><span class="o">=</span>arm<span class="w"> </span>menuconfig
</pre></div>
</div>
<div class="clear-left"></div></div></div><p>and then make changes, save them, and then create the <code class="docutils literal notranslate"><span class="pre">defconfig</span></code>.</p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>make<span class="w"> </span>-C<span class="w"> </span>linux<span class="w"> </span><span class="nv">ARCH</span><span class="o">=</span>arm<span class="w"> </span>savedefconfig
</pre></div>
</div>
<div class="clear-left"></div></div></div><p>Check your changes against the default image</p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>diff<span class="w"> </span>-u<span class="w"> </span>./linux/arch/arm/configs/zynq_pluto_defconfig<span class="w"> </span>linux/defconfig<span class="w"> </span><span class="p">|</span><span class="w"> </span>less
</pre></div>
</div>
<div class="clear-left"></div></div></div><p>And if you are sure things are what you want, store them to the default file.</p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cp<span class="w"> </span>./linux/defconfig<span class="w"> </span>./linux/arch/arm/configs/zynq_pluto_defconfig
</pre></div>
</div>
<div class="clear-left"></div></div></div><p>then this will work next time you type <code class="docutils literal notranslate"><span class="pre">make</span></code> to build the firmware image.</p>
</section>
</section>
<section id="build-devicetrees">
<h3>Build Devicetrees<a class="headerlink" href="#build-devicetrees" title="Link to this heading"></a></h3>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Function</p></th>
<th class="head"><p>File</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>PlutoSDR Rev.A Device Tree</p></td>
<td><p><a class="icon git reference external" href="https://github.com/analogdevicesinc/linux/tree/main/arch/arm/boot/dts/xilinx/zynq-pluto-sdr.dts" target="_blank">zynq-pluto-sdr.dts</a></p></td>
</tr>
<tr class="row-odd"><td><p>PlutoSDR Rev.B Device Tree</p></td>
<td><p><a class="icon git reference external" href="https://github.com/analogdevicesinc/linux/tree/main/arch/arm/boot/dts/xilinx/zynq-pluto-sdr-revb.dts" target="_blank">zynq-pluto-sdr-revb.dts</a></p></td>
</tr>
</tbody>
</table>
</div>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>make<span class="w"> </span>-C<span class="w"> </span>linux<span class="w"> </span>-j<span class="w"> </span><span class="m">8</span><span class="w"> </span><span class="nv">ARCH</span><span class="o">=</span>arm<span class="w"> </span><span class="nv">CROSS_COMPILE</span><span class="o">=</span>arm-xilinx-linux-gnueabi-<span class="w"> </span>zynq-pluto-sdr.dtb
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cp<span class="w"> </span>linux/arch/arm/boot/dts/zynq-pluto-sdr.dtb<span class="w"> </span>build/zynq-pluto-sdr.dtb
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>make<span class="w"> </span>-C<span class="w"> </span>linux<span class="w"> </span>-j<span class="w"> </span><span class="m">8</span><span class="w"> </span><span class="nv">ARCH</span><span class="o">=</span>arm<span class="w"> </span><span class="nv">CROSS_COMPILE</span><span class="o">=</span>arm-xilinx-linux-gnueabi-<span class="w"> </span>zynq-pluto-sdr-revb.dtb
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cp<span class="w"> </span>linux/arch/arm/boot/dts/zynq-pluto-sdr-revb.dtb<span class="w"> </span>build/zynq-pluto-sdr-revb.dtb
</pre></div>
</div>
<div class="clear-left"></div></div></div></section>
<section id="build-buildroot-user-space">
<h3>Build Buildroot User Space<a class="headerlink" href="#build-buildroot-user-space" title="Link to this heading"></a></h3>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Function</p></th>
<th class="head"><p>File</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>PlutoSDR Buildroot Config</p></td>
<td><p><a class="icon git reference external" href="https://github.com/analogdevicesinc/buildroot/tree/master/configs/zynq_pluto_defconfig" target="_blank">zynq_pluto_defconfig</a></p></td>
</tr>
</tbody>
</table>
</div>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>make<span class="w"> </span>-C<span class="w"> </span>buildroot<span class="w"> </span><span class="nv">ARCH</span><span class="o">=</span>arm<span class="w"> </span>zynq_pluto_defconfig
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>make<span class="w"> </span>-C<span class="w"> </span>buildroot<span class="w"> </span><span class="nv">TOOLCHAIN_EXTERNAL_INSTALL_DIR</span><span class="o">=</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="nv">ARCH</span><span class="o">=</span>arm<span class="w"> </span><span class="nv">CROSS_COMPILE</span><span class="o">=</span>arm-xilinx-linux-gnueabi-<span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="nv">BUSYBOX_CONFIG_FILE</span><span class="o">=</span>/home/michael/devel/pluto/plutosdr-fw/buildroot/board/pluto/busybox-1.25.0.config<span class="w"> </span>all
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cp<span class="w"> </span>buildroot/output/images/rootfs.cpio.gz<span class="w"> </span>build/rootfs.cpio.gz
</pre></div>
</div>
<div class="clear-left"></div></div></div><section id="configuring-buildroot">
<h4>Configuring Buildroot<a class="headerlink" href="#configuring-buildroot" title="Link to this heading"></a></h4>
<p>You need to copy over the correct file, to the <code class="docutils literal notranslate"><span class="pre">.config</span></code>, edit it (with
<code class="docutils literal notranslate"><span class="pre">menuconfig</span></code>), and then save it to the right place so that the main build
system will use the new file.</p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>make<span class="w"> </span>-C<span class="w"> </span>buildroot<span class="w"> </span><span class="nv">ARCH</span><span class="o">=</span>arm<span class="w"> </span>zynq_pluto_defconfig
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>make<span class="w"> </span>-C<span class="w"> </span>buildroot<span class="w"> </span><span class="nv">ARCH</span><span class="o">=</span>arm<span class="w"> </span>menuconfig
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>make<span class="w"> </span>-C<span class="w"> </span>buildroot<span class="w"> </span><span class="nv">ARCH</span><span class="o">=</span>arm<span class="w"> </span>savedefconfig
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>make
</pre></div>
</div>
<div class="clear-left"></div></div></div></section>
</section>
<section id="build-fpga-hardware-description-file">
<h3>Build FPGA Hardware Description File<a class="headerlink" href="#build-fpga-hardware-description-file" title="Link to this heading"></a></h3>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Function</p></th>
<th class="head"><p>File</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Pluto HDL Project</p></td>
<td><p><a class="icon git reference external" href="https://github.com/analogdevicesinc/hdl/tree/main/projects/pluto" target="_blank">Files</a></p></td>
</tr>
</tbody>
</table>
</div>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">source</span><span class="w"> </span>/opt/Xilinx/Vivado/2021.2/settings64.sh
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>make<span class="w"> </span>-C<span class="w"> </span>hdl/projects/pluto
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cp<span class="w"> </span>hdl/projects/pluto/pluto.sdk/system_top.hdf<span class="w"> </span>build/system_top.hdf
</pre></div>
</div>
<div class="clear-left"></div></div></div></section>
<section id="build-fpga-first-stage-bootloader-fsbl">
<h3>Build FPGA First Stage Bootloader (FSBL)<a class="headerlink" href="#build-fpga-first-stage-bootloader-fsbl" title="Link to this heading"></a></h3>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Function</p></th>
<th class="head"><p>File</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Create FSBL TCL script</p></td>
<td><p><a class="icon git reference external" href="https://github.com/analogdevicesinc/plutosdr-fw/tree/master/scripts/create_fsbl_project.tcl" target="_blank">create_fsbl_project.tcl</a></p></td>
</tr>
</tbody>
</table>
</div>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">source</span><span class="w"> </span>/opt/Xilinx/Vivado/2021.2/settings64.sh
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>xsdk<span class="w"> </span>-batch<span class="w"> </span>-source<span class="w"> </span>scripts/create_fsbl_project.tcl
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cp<span class="w"> </span>build/sdk/hw_0/system_top.bit<span class="w"> </span>build/system_top.bit
</pre></div>
</div>
<div class="clear-left"></div></div></div></section>
<section id="build-multi-component-fit-image-flattened-image-tree">
<h3>Build multi component FIT image (Flattened Image Tree)<a class="headerlink" href="#build-multi-component-fit-image-flattened-image-tree" title="Link to this heading"></a></h3>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Function</p></th>
<th class="head"><p>File</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>PlutoSDR Image Tree Source</p></td>
<td><p><a class="icon git reference external" href="https://github.com/analogdevicesinc/plutosdr-fw/tree/master/scripts/pluto.its" target="_blank">pluto.its</a></p></td>
</tr>
</tbody>
</table>
</div>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>u-boot-xlnx/tools/mkimage<span class="w"> </span>-f<span class="w"> </span>scripts/pluto.its<span class="w"> </span>build/pluto.itb
</pre></div>
</div>
<div class="clear-left"></div></div></div></section>
<section id="build-firmware-dfu-image">
<h3>Build Firmware DFU image<a class="headerlink" href="#build-firmware-dfu-image" title="Link to this heading"></a></h3>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cp<span class="w"> </span>build/pluto.itb<span class="w"> </span>build/pluto.itb.tmp
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>dfu-suffix<span class="w"> </span>-a<span class="w"> </span>build/pluto.itb.tmp<span class="w"> </span>-v<span class="w"> </span>0x0456<span class="w"> </span>-p<span class="w"> </span>0xb673
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mv<span class="w"> </span>build/pluto.itb.tmp<span class="w"> </span>build/pluto.dfu
</pre></div>
</div>
<div class="clear-left"></div></div></div></section>
<section id="build-firmware-frm-image">
<h3>Build Firmware FRM image<a class="headerlink" href="#build-firmware-frm-image" title="Link to this heading"></a></h3>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>md5sum<span class="w"> </span>build/pluto.itb<span class="w"> </span><span class="p">|</span><span class="w"> </span>cut<span class="w"> </span>-d<span class="w"> </span><span class="s1">&#39; &#39;</span><span class="w"> </span>-f<span class="w"> </span><span class="m">1</span><span class="w"> </span>&gt;<span class="w"> </span>build/pluto.frm.md5
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cat<span class="w"> </span>build/pluto.itb<span class="w"> </span>build/pluto.frm.md5<span class="w"> </span>&gt;<span class="w"> </span>build/pluto.frm
</pre></div>
</div>
<div class="clear-left"></div></div></div></section>
<section id="build-u-boot">
<h3>Build u-boot<a class="headerlink" href="#build-u-boot" title="Link to this heading"></a></h3>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Function</p></th>
<th class="head"><p>File</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>PlutoSDR u-boot Config</p></td>
<td><p><a class="icon git reference external" href="https://github.com/analogdevicesinc/u-boot-xlnx/tree/pluto/configs/zynq_pluto_defconfig" target="_blank">zynq_pluto_defconfig</a></p></td>
</tr>
<tr class="row-odd"><td><p>PlutoSDR u-boot Device Tree</p></td>
<td><p><a class="icon git reference external" href="https://github.com/analogdevicesinc/u-boot-xlnx/tree/pluto/arch/arm/dts/zynq-pluto-sdr.dts" target="_blank">zynq-pluto-sdr.dts</a></p></td>
</tr>
</tbody>
</table>
</div>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>make<span class="w"> </span>-C<span class="w"> </span>u-boot-xlnx<span class="w"> </span><span class="nv">ARCH</span><span class="o">=</span>arm<span class="w"> </span>zynq_pluto_defconfig
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>make<span class="w"> </span>-C<span class="w"> </span>u-boot-xlnx<span class="w"> </span><span class="nv">ARCH</span><span class="o">=</span>arm<span class="w"> </span><span class="nv">CROSS_COMPILE</span><span class="o">=</span>arm-xilinx-linux-gnueabi-<span class="w"> </span><span class="nv">UBOOTVERSION</span><span class="o">=</span><span class="s2">&quot;PlutoSDR v0.20-PlutoSDR&quot;</span>
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cp<span class="w"> </span>u-boot-xlnx/u-boot<span class="w"> </span>build/u-boot.elf
</pre></div>
</div>
<div class="clear-left"></div></div></div></section>
<section id="build-zynq-boot-image">
<h3>Build Zynq Boot Image<a class="headerlink" href="#build-zynq-boot-image" title="Link to this heading"></a></h3>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">echo</span><span class="w"> </span>img:<span class="o">{[</span>bootloader<span class="o">]</span><span class="w"> </span>build/sdk/fsbl/Release/fsbl.elf<span class="w"> </span>build/u-boot.elf<span class="w"> </span><span class="o">}</span><span class="w"> </span>&gt;<span class="w"> </span>build/boot.bif
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">source</span><span class="w"> </span>/opt/Xilinx/Vivado/2021.2/settings64.sh
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>bootgen<span class="w"> </span>-image<span class="w"> </span>build/boot.bif<span class="w"> </span>-w<span class="w"> </span>-o<span class="w"> </span>build/boot.bin
</pre></div>
</div>
<div class="clear-left"></div></div></div></section>
<section id="build-boot-dfu-image">
<h3>Build Boot DFU Image<a class="headerlink" href="#build-boot-dfu-image" title="Link to this heading"></a></h3>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cp<span class="w"> </span>build/boot.bin<span class="w"> </span>build/boot.bin.tmp
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>dfu-suffix<span class="w"> </span>-a<span class="w"> </span>build/boot.bin.tmp<span class="w"> </span>-v<span class="w"> </span>0x0456<span class="w"> </span>-p<span class="w"> </span>0xb673
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mv<span class="w"> </span>build/boot.bin.tmp<span class="w"> </span>build/boot.dfu
</pre></div>
</div>
<div class="clear-left"></div></div></div></section>
<section id="build-u-boot-default-environment-image">
<h3>Build u-boot default environment Image<a class="headerlink" href="#build-u-boot-default-environment-image" title="Link to this heading"></a></h3>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">CROSS_COMPILE</span><span class="o">=</span>arm-xilinx-linux-gnueabi-<span class="w"> </span>scripts/get_default_envs.sh<span class="w"> </span>&gt;<span class="w"> </span>build/uboot-env.txt
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>u-boot-xlnx/tools/mkenvimage<span class="w"> </span>-s<span class="w"> </span>0x20000<span class="w"> </span>-o<span class="w"> </span>build/uboot-env.bin<span class="w"> </span>build/uboot-env.txt
</pre></div>
</div>
<div class="clear-left"></div></div></div></section>
<section id="build-u-boot-default-environment-dfu-image">
<h3>Build u-boot default environment DFU Image<a class="headerlink" href="#build-u-boot-default-environment-dfu-image" title="Link to this heading"></a></h3>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cp<span class="w"> </span>build/uboot-env.bin<span class="w"> </span>build/uboot-env.bin.tmp
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>dfu-suffix<span class="w"> </span>-a<span class="w"> </span>build/uboot-env.bin.tmp<span class="w"> </span>-v<span class="w"> </span>0x0456<span class="w"> </span>-p<span class="w"> </span>0xb673
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mv<span class="w"> </span>build/uboot-env.bin.tmp<span class="w"> </span>build/uboot-env.dfu
</pre></div>
</div>
<div class="clear-left"></div></div></div></section>
<section id="build-boot-frm-image">
<h3>Build Boot FRM image<a class="headerlink" href="#build-boot-frm-image" title="Link to this heading"></a></h3>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cat<span class="w"> </span>build/boot.bin<span class="w"> </span>build/uboot-env.bin<span class="w"> </span>scripts/target_mtd_info.key<span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>tee<span class="w"> </span>build/boot.frm<span class="w"> </span><span class="p">|</span><span class="w"> </span>md5sum<span class="w"> </span><span class="p">|</span><span class="w"> </span>cut<span class="w"> </span>-d<span class="w"> </span><span class="s1">&#39; &#39;</span><span class="w"> </span>-f1<span class="w"> </span><span class="p">|</span><span class="w"> </span>tee<span class="w"> </span>-a<span class="w"> </span>build/boot.frm
</pre></div>
</div>
<div class="clear-left"></div></div></div></section>
</section>
</section>


          </div>
              <div class="related">
                &nbsp;
    <a href="index.html" title="Previous document (Alt+Shift+LeftArrow)" class="prev">Common PLUTO&amp;M2K</a>
    <a href="drivers.html" title="Next document (Alt+Shift+RightArrow)" class="next">Installing Drivers</a>
              </div>
          
        </div>
      </div>
  </div>

  <label id="cancel-area-show-toc" for="input-show-toc"></label>
  <label id="cancel-area-show-localtoc" for="input-show-localtoc"></label>
    <footer>
      &#169;2025, Analog Devices, Inc.
      
      |
      Made with <a href="https://www.sphinx-doc.org/">Sphinx</a>
      &amp; <a href="https://github.com/analogdevicesinc/doctools">Doctools</a>
      
    </footer>
  </body>
</html>