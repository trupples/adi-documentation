<!DOCTYPE html>

<html lang="en" data-content_root="../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Command line utility &#8212; System Level Documentation  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=8e8a900e" />
    <link rel="stylesheet" type="text/css" href="../../_static/app.min.css?v=c218d0f6" />
    <script defer="" src="../../_static/app.umd.js?v=057c4fc5"></script>
    <link rel="icon" href="../../_static/icon.svg"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="MATLAB &amp; Simulink Toolboxes" href="../matlab/index.html" />
    <link rel="prev" title="Digital communication" href="digital_communication.html" />
   
  
  <meta name="repository" content="documentation">
  <meta name="version" content="">
  


<style>
  body {
    
  }

  body.dark {
    
  }

  @media (prefers-color-scheme: dark) {
    body:not(.light) {
      
    }
  }
</style>
  </head><body>
  <input type="checkbox" id="input-show-toc">
  <input type="checkbox" id="input-show-localtoc">
  <input type="checkbox" id="input-show-repotoc">

  
  <div class="search-area">
    <form action="" method="get">
      <input type="text" name="q" aria-labelledby="search-documentation" value="" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="search" placeholder="Search"/>
      <button class="icon"></button>
    </form>
  </div>
  

  <header>
    <div id="left">
      <label id="show-sidebar" class="icon" for="input-show-toc" title="Show/hide index"></label>
    </div>
    <div id="right">
      <span>
        <a id="logo-org" href="https://analog.com"></a>
        <div class="vertical-divider"></div>
        <label id="show-repotoc" for="input-show-repotoc" title="Show/hide docs" tabindex="0">Docs</label>
        <a id="logo" href="../../index.html">
          <div>System Level</div>
        </a>
      </span>
      <span class="reverse">
        <label id="show-localtoc" class="icon" for="input-show-localtoc" title="Show/hide contents"></label>
      </span>
    </div>
  </header>


  <div class="repotoc-tree overlay">
    <root>
  <a href="../../index.html" class="current">System Level</a>
</root>

  </div>
    <div class="localtoc">
      <div class="tocwrapper">
        <div>
          <div class="localtoc-header"></div>
          <a id="scroll-up" href="#top-anchor" title="Back to top"></a>
        </div>
        <nav>
          <ul>
<li><a class="reference internal" href="#">Command line utility</a><ul>
<li><a class="reference internal" href="#how-to-install-it">How to install it?</a><ul>
<li><a class="reference internal" href="#windows">Windows</a></li>
</ul>
</li>
<li><a class="reference internal" href="#how-to-build-it">How to build it?</a><ul>
<li><a class="reference internal" href="#enable-tools-on-linux-or-osx">Enable tools on Linux or OSX</a></li>
<li><a class="reference internal" href="#enable-tools-on-windows">Enable tools on Windows</a></li>
</ul>
</li>
<li><a class="reference internal" href="#commands">Commands</a><ul>
<li><a class="reference internal" href="#analog-in">analog-in</a><ul>
<li><a class="reference internal" href="#synopsis">synopsis</a></li>
<li><a class="reference internal" href="#description">description</a></li>
</ul>
</li>
<li><a class="reference internal" href="#analog-out">analog-out</a><ul>
<li><a class="reference internal" href="#id1">synopsis</a></li>
<li><a class="reference internal" href="#id2">description</a></li>
</ul>
</li>
<li><a class="reference internal" href="#digital">digital</a><ul>
<li><a class="reference internal" href="#id3">synopsis</a></li>
<li><a class="reference internal" href="#description-2">description</a></li>
</ul>
</li>
<li><a class="reference internal" href="#power-supply">power-supply</a><ul>
<li><a class="reference internal" href="#id5">synopsis</a></li>
<li><a class="reference internal" href="#id6">description</a></li>
</ul>
</li>
<li><a class="reference internal" href="#spi">spi</a><ul>
<li><a class="reference internal" href="#id7">synopsis</a></li>
<li><a class="reference internal" href="#id8">description</a></li>
</ul>
</li>
<li><a class="reference internal" href="#i2c">i2c</a><ul>
<li><a class="reference internal" href="#id9">synopsis</a></li>
<li><a class="reference internal" href="#id10">description</a></li>
</ul>
</li>
<li><a class="reference internal" href="#uart">uart</a><ul>
<li><a class="reference internal" href="#id11">synopsis</a></li>
<li><a class="reference internal" href="#id12">description</a></li>
</ul>
</li>
<li><a class="reference internal" href="#uart-terminal">uart-terminal</a><ul>
<li><a class="reference internal" href="#id13">synopsis</a></li>
<li><a class="reference internal" href="#id14">description</a></li>
<li><a class="reference internal" href="#usb-to-serial-uart-adapter-script">USB to Serial UART adapter script</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#m2kcli-and-sigrok-cli">m2kcli and sigrok-cli</a></li>
</ul>
</li>
</ul>

        </nav>
      </div>
    </div>

  
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
    <a id="no-logo" href="../../index.html">
      System Level Documentation
    </a><input id="input-switch-toc" type="checkbox">
<label id="show-repotoc" for="input-switch-toc">
All content
</label>
<label id="show-toc" for="input-switch-toc">
Content on this topic
</label>
<div class="repotoc-tree">
  <root>
  <a href="../../index.html" class="current">System Level</a>
</root>

</div>
<div class="toc-tree">
  <html>
  <body><p class="caption" role="heading"><span class="caption-text">Kuiper &amp; Linux Kernel</span></p>
<ul>
<li class="toctree-l1"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-1" id="toctree-collapse-1"/><div class="collapse"><a class="reference internal" href="../../linux/drivers/index.html">Linux drivers</a><label for="toctree-collapse-1"><div class="icon"></div></label></div><ul>
<li class="toctree-l2"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-1-1" id="toctree-collapse-1-1"/><div class="collapse"><a class="reference internal" href="../../linux/drivers/iio-adc/index.html">IIO ADC</a><label for="toctree-collapse-1-1"><div class="icon"></div></label></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../../linux/drivers/iio-adc/ad4052/index.html">AD4052</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../linux/drivers/iio-adc/ad9084/index.html">AD9084/AD9088</a></li>
</ul>
</li>
<li class="toctree-l2"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-1-2" id="toctree-collapse-1-2"/><div class="collapse"><a class="reference internal" href="../../linux/drivers/iio-transceiver/index.html">IIO Transceivers</a><label for="toctree-collapse-1-2"><div class="icon"></div></label></div><ul>
<li class="toctree-l3"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-1-2-1" id="toctree-collapse-1-2-1"/><div class="collapse"><a class="reference internal" href="../../linux/drivers/iio-transceiver/adrv9009/index.html">ADRV9009, ADRV9008-1, ADRV9008-2</a><label for="toctree-collapse-1-2-1"><div class="icon"></div></label></div><ul>
<li class="toctree-l4"><a class="reference internal" href="../../linux/drivers/iio-transceiver/adrv9009/customization.html">Customization</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-1-3" id="toctree-collapse-1-3"/><div class="collapse"><a class="reference internal" href="../../linux/drivers/iio/index.html">Linux Industrial I/O Subsystem</a><label for="toctree-collapse-1-3"><div class="icon"></div></label></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../../linux/drivers/iio/iio-trig-sysfs.html">iio-trig-sysfs driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../linux/drivers/iio/iio-trig-bfin-timer.html">iio-trig-bfin-timer driver</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-2" id="toctree-collapse-2"/><div class="collapse"><a class="reference internal" href="../../linux/kernel/index.html">Kernel and devicetrees</a><label for="toctree-collapse-2"><div class="icon"></div></label></div><ul>
<li class="toctree-l2"><a class="reference internal" href="../../linux/kernel/zynq.html">Build Zynq</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../linux/kernel/zynqmp.html">Build ZynqMP</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../linux/kernel/microblaze.html">Build MicroBlaze</a></li>
<li class="toctree-l2"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-2-1" id="toctree-collapse-2-1"/><div class="collapse"><a class="reference internal" href="../../linux/kernel/petalinux.html">Build with Petalinux</a><label for="toctree-collapse-2-1"><div class="icon"></div></label></div><ul>
<li class="toctree-l3"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-2-1-1" id="toctree-collapse-2-1-1"/><div class="collapse"><a class="reference internal" href="../../linux/kernel/petalinux-dts/index.html">Petalinux Device Trees</a><label for="toctree-collapse-2-1-1"><div class="icon"></div></label></div><ul>
<li class="toctree-l4"><a class="reference internal" href="../../linux/kernel/petalinux-dts/petalinux-custom-dts.html">Custom Device Trees with meta-adi</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../linux/kernel/petalinux-dts/petalinux-meta-adi-bypass.html">Custom Device Trees with DTG (meta-adi Bypass)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../linux/kernel/petalinux-dts/petalinux-system-user.html">Device Tree Modifications with system-user.dtsi</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-3" id="toctree-collapse-3"/><div class="collapse"><a class="reference internal" href="../../linux/kuiper/index.html">Kuiper Linux</a><label for="toctree-collapse-3"><div class="icon"></div></label></div><ul>
<li class="toctree-l2"><a class="reference internal" href="../../linux/kuiper/release-notes.html">Release notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../linux/kuiper/sdcard/index.html">SD Card flashing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../linux/kuiper/project-list.html">Project list</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../linux/kuiper/update.html">Updating</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Software</span></p>
<ul class="current">
<li class="toctree-l1"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-4" id="toctree-collapse-4"/><div class="collapse"><a class="reference internal" href="../iio-oscilloscope/index.html">IIO Oscilloscope</a><label for="toctree-collapse-4"><div class="icon"></div></label></div><ul>
<li class="toctree-l2"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-4-1" id="toctree-collapse-4-1"/><div class="collapse"><a class="reference internal" href="../iio-oscilloscope/adrv9009/index.html">ADRV9009</a><label for="toctree-collapse-4-1"><div class="icon"></div></label></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../iio-oscilloscope/adrv9009/plugin.html">Standard Plugin</a></li>
<li class="toctree-l3"><a class="reference internal" href="../iio-oscilloscope/adrv9009/advanced-plugin.html">Advanced plugin</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-5" id="toctree-collapse-5"/><div class="collapse"><a class="reference internal" href="../libiio/index.html">Libiio</a><label for="toctree-collapse-5"><div class="icon"></div></label></div><ul>
<li class="toctree-l2"><a class="reference internal" href="../libiio/internals.html">About libiio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libiio/cli.html">Command line utility</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libiio/tips-tricks.html">Tips &amp; Tricks</a></li>
</ul>
</li>
<li class="toctree-l1 current"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-6" id="toctree-collapse-6" checked=""/><div class="collapse"><a class="reference internal" href="index.html">Libm2k</a><label for="toctree-collapse-6"><div class="icon"></div></label></div><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="calibration.html">Calibration</a></li>
<li class="toctree-l2"><a class="reference internal" href="digital_communication.html">Digital communication</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Command line utility</a></li>
</ul>
</li>
<li class="toctree-l1"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-7" id="toctree-collapse-7"/><div class="collapse"><a class="reference internal" href="../matlab/index.html">MATLAB &amp; Simulink Toolboxes</a><label for="toctree-collapse-7"><div class="icon"></div></label></div><ul>
<li class="toctree-l2"><a class="reference internal" href="../matlab/hsx-toolbox/index.html">High Speed Converter Toolbox</a></li>
<li class="toctree-l2"><a class="reference internal" href="../matlab/transceiver-toolbox/index.html">Transceiver Toolbox</a></li>
<li class="toctree-l2"><a class="reference internal" href="../matlab/bsp-extend.html">Extending Device Interfaces</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../pyadi-iio/index.html">PyADI-IIO</a></li>
<li class="toctree-l1"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-8" id="toctree-collapse-8"/><div class="collapse"><a class="reference internal" href="../zephyr/index.html">Zephyr RTOS</a><label for="toctree-collapse-8"><div class="icon"></div></label></div><ul>
<li class="toctree-l2"><a class="reference internal" href="../zephyr/zephyr-devicetree.html">Intro to Devicetree</a></li>
<li class="toctree-l2"><a class="reference internal" href="../zephyr/kconfig/zephyr-kconfig.html">Introduction to Kconfig</a></li>
<li class="toctree-l2"><a class="reference internal" href="../zephyr/using-zephyr-codefusion-fs/zephyr_codefusion_fs.html">Using Zephyr &amp; Codefusion Studio to Partition a Flash Filesystem</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Evaluation Boards</span></p>
<ul>
<li class="toctree-l1"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-9" id="toctree-collapse-9"/><div class="collapse"><a class="reference internal" href="../../eval/user-guide/index.html">User guides</a><label for="toctree-collapse-9"><div class="icon"></div></label></div><ul>
<li class="toctree-l2"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-9-1" id="toctree-collapse-9-1"/><div class="collapse"><a class="reference internal" href="../../eval/user-guide/adc/ad4052-ardz/index.html">EVAL-AD4050/AD4052-ARDZ</a><label for="toctree-collapse-9-1"><div class="icon"></div></label></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../../eval/user-guide/adc/ad4052-ardz/user-guide.html">Evaluating the device</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../eval/user-guide/adc/ad9084-ebz/index.html">EVAL-AD9084-EBZ</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../eval/user-guide/mem/adxl355-pmdz/index.html">EVAL-ADXL355-PMDZ</a></li>
<li class="toctree-l2"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-9-2" id="toctree-collapse-9-2"/><div class="collapse"><a class="reference internal" href="../../eval/user-guide/transceiver/adrv9009/index.html">ADRV9009 &amp; ADRV9008</a><label for="toctree-collapse-9-2"><div class="icon"></div></label></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../../eval/user-guide/transceiver/adrv9009/prerequisites.html">Prerequisites</a></li>
<li class="toctree-l3"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-9-2-1" id="toctree-collapse-9-2-1"/><div class="collapse"><a class="reference internal" href="../../eval/user-guide/transceiver/adrv9009/quickstart/index.html">Quickstart</a><label for="toctree-collapse-9-2-1"><div class="icon"></div></label></div><ul>
<li class="toctree-l4"><a class="reference internal" href="../../eval/user-guide/transceiver/adrv9009/quickstart/zynqmp.html">ZCU102</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../eval/user-guide/transceiver/adrv9009/basic-iq-datafiles.html">Basic IQ Datafiles</a></li>
</ul>
</li>
<li class="toctree-l2"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-9-3" id="toctree-collapse-9-3"/><div class="collapse"><a class="reference internal" href="../../eval/user-guide/transceiver/adrv9026/index.html">ADRV9026 &amp; ADRV9029</a><label for="toctree-collapse-9-3"><div class="icon"></div></label></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../../eval/user-guide/transceiver/adrv9026/prerequisites.html">Prerequisites</a></li>
<li class="toctree-l3"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-9-3-1" id="toctree-collapse-9-3-1"/><div class="collapse"><a class="reference internal" href="../../eval/user-guide/transceiver/adrv9026/quickstart/index.html">Quickstart</a><label for="toctree-collapse-9-3-1"><div class="icon"></div></label></div><ul>
<li class="toctree-l4"><a class="reference internal" href="../../eval/user-guide/transceiver/adrv9026/quickstart/zynqmp.html">ZCU102</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../eval/user-guide/transceiver/adrv9026/quickstart/versal.html">VCK190</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Products &amp; Tools</span></p>
<ul>
<li class="toctree-l1"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-10" id="toctree-collapse-10"/><div class="collapse"><a class="reference internal" href="../../tools/m2k/index.html">ADALM2000</a><label for="toctree-collapse-10"><div class="icon"></div></label></div><ul>
<li class="toctree-l2"><a class="reference internal" href="../../tools/m2k/devs/index.html">For Developers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tools/m2k/users/index.html">For End Users</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tools/m2k/help_support.html">Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tools/m2k/labview.html">Using With LabVIEW</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tools/m2k/matlab.html">Using with MATLAB</a></li>
</ul>
</li>
<li class="toctree-l1"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-11" id="toctree-collapse-11"/><div class="collapse"><a class="reference internal" href="../../tools/pluto-m2k/index.html">Common PLUTO&amp;M2K</a><label for="toctree-collapse-11"><div class="icon"></div></label></div><ul>
<li class="toctree-l2"><a class="reference internal" href="../../tools/pluto-m2k/building_the_image.html">Building the Firmware Image</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tools/pluto-m2k/drivers.html">Installing Drivers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tools/pluto-m2k/firmware.html">Firmware Updates</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tools/pluto-m2k/obtaining_the_sources.html">Obtaining the Build Sources</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tools/pluto-m2k/reboot.html">Rebooting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tools/pluto-m2k/usb_otg_host.html">USB OTG – HOST function Support</a></li>
</ul>
</li>
<li class="toctree-l1"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-12" id="toctree-collapse-12"/><div class="collapse"><a class="reference internal" href="../../tools/pluto/index.html">ADALM-PLUTO</a><label for="toctree-collapse-12"><div class="icon"></div></label></div><ul>
<li class="toctree-l2"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-12-1" id="toctree-collapse-12-1"/><div class="collapse"><a class="reference internal" href="../../tools/pluto/devs/index.html">For Developers</a><label for="toctree-collapse-12-1"><div class="icon"></div></label></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../../tools/pluto/devs/usb_otg.html">USB OTG</a></li>
</ul>
</li>
<li class="toctree-l2"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-12-2" id="toctree-collapse-12-2"/><div class="collapse"><a class="reference internal" href="../../tools/pluto/hacking/index.html">For Hackers</a><label for="toctree-collapse-12-2"><div class="icon"></div></label></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../../tools/pluto/hacking/hardware.html">ADALM-PLUTO Hardware</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tools/pluto/hacking/listening_to_yourself.html">Self Reception</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tools/pluto/hacking/power_amp.html">Controlling External Devices</a></li>
</ul>
</li>
<li class="toctree-l2"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-12-3" id="toctree-collapse-12-3"/><div class="collapse"><a class="reference internal" href="../../tools/pluto/users/index.html">For End Users</a><label for="toctree-collapse-12-3"><div class="icon"></div></label></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../../tools/pluto/users/antennas.html">Antennas</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../tools/pluto/help_support.html">Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tools/pluto/prerequisites.html">Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tools/pluto/transceiver_transferring_data.html">Controlling the transceiver and transferring data</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/uartjtag/index.html">ADALM-UARTJTAG</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Apps &amp; Solutions</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../solutions/application-software/index.html">Application Software</a></li>
<li class="toctree-l1"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-13" id="toctree-collapse-13"/><div class="collapse"><a class="reference internal" href="../../solutions/reference-designs/index.html">Reference Designs</a><label for="toctree-collapse-13"><div class="icon"></div></label></div><ul>
<li class="toctree-l2"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-13-1" id="toctree-collapse-13-1"/><div class="collapse"><a class="reference internal" href="../../solutions/reference-designs/ad-amr-bms-sl/index.html">AD-AMR-BMS-SL (partno TBD)</a><label for="toctree-collapse-13-1"><div class="icon"></div></label></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../../solutions/reference-designs/ad-amr-bms-sl/od.html">AD-AMR-BMS-SL CANopen Object Dictionary</a></li>
</ul>
</li>
<li class="toctree-l2"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-13-2" id="toctree-collapse-13-2"/><div class="collapse"><a class="reference internal" href="../../solutions/reference-designs/ad-amr-drv-sl/index.html">AD-AMR-DRV-SL (partno TBD)</a><label for="toctree-collapse-13-2"><div class="icon"></div></label></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../../solutions/reference-designs/ad-amr-drv-sl/od.html">AD-AMR-DRV-SL CANopen Object Dictionary</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../solutions/reference-designs/ad-amr-loc-rpiz/index.html">AD-AMR-LOC-RPIZ</a></li>
<li class="toctree-l2"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-13-3" id="toctree-collapse-13-3"/><div class="collapse"><a class="reference internal" href="../../solutions/reference-designs/ad-apard32690-sl/index.html">AD-APARD32690-SL</a><label for="toctree-collapse-13-3"><div class="icon"></div></label></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../../solutions/reference-designs/ad-apard32690-sl/ad-t1lusb-ebz/index.html">AD-T1LUSB2.0-EBZ</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../solutions/reference-designs/ad-apard32690-sl/nina-w102/index.html">NINA-W102 Networking Support</a></li>
</ul>
</li>
<li class="toctree-l2"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-13-4" id="toctree-collapse-13-4"/><div class="collapse"><a class="reference internal" href="../../solutions/reference-designs/ad-bmse2e3w-sl/index.html">AD-BMSE2E3W-SL</a><label for="toctree-collapse-13-4"><div class="icon"></div></label></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../../solutions/reference-designs/ad-bmse2e3w-sl/sample_application/index.html">Sample Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../solutions/reference-designs/ad-bmse2e3w-sl/software_guide/index.html">Software User Guide</a></li>
</ul>
</li>
<li class="toctree-l2"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-13-5" id="toctree-collapse-13-5"/><div class="collapse"><a class="reference internal" href="../../solutions/reference-designs/ad-cellpackbm-sl/index.html">AD-CELLPACKBM-SL</a><label for="toctree-collapse-13-5"><div class="icon"></div></label></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../../solutions/reference-designs/ad-cellpackbm-sl/hardware_guide/index.html">Hardware User Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../solutions/reference-designs/ad-cellpackbm-sl/software_guide/index.html">Software User Guide</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../solutions/reference-designs/ad-gmsl-d-e-adp/index.html">AD-GMSL-D-E-ADP#</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../solutions/reference-designs/ad-gmsl2eth-sl/index.html">AD-GMSL2ETH-SL</a></li>
<li class="toctree-l2"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-13-6" id="toctree-collapse-13-6"/><div class="collapse"><a class="reference internal" href="../../solutions/reference-designs/ad-gmsl522-sl/index.html">AD-GMSL522-SL</a><label for="toctree-collapse-13-6"><div class="icon"></div></label></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../../solutions/reference-designs/ad-gmsl522-sl/hardware-guide/index.html">Hardware Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../solutions/reference-designs/ad-gmsl522-sl/software-guide/index.html">Software Guide</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../solutions/reference-designs/ad-gmsl717mipi-evk/index.html">AD-GMSL717MIPI-EVK</a></li>
<li class="toctree-l2"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-13-7" id="toctree-collapse-13-7"/><div class="collapse"><a class="reference internal" href="../../solutions/reference-designs/ad-gmslcamrpi-adp/index.html">AD-GMSLCAMRPI-ADP#</a><label for="toctree-collapse-13-7"><div class="icon"></div></label></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../../solutions/reference-designs/ad-gmslcamrpi-adp/amd-kria/index.html">Using with AMD Kria</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../solutions/reference-designs/ad-gmslcamrpi-adp/nvidia-jetson/index.html">Using with Nvidia Jetson Orin Nano</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../solutions/reference-designs/ad-gmslcamrpi-adp/raspberry-pi-user-guide/index.html">Using with Raspberry Pi</a></li>
</ul>
</li>
<li class="toctree-l2"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-13-8" id="toctree-collapse-13-8"/><div class="collapse"><a class="reference internal" href="../../solutions/reference-designs/ad-swiot1l-sl/index.html">AD-SWIOT1L-SL</a><label for="toctree-collapse-13-8"><div class="icon"></div></label></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../../solutions/reference-designs/ad-swiot1l-sl/hardware-guide/index.html">Hardware User Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../solutions/reference-designs/ad-swiot1l-sl/software-guide/index.html">Software User Guide</a></li>
</ul>
</li>
<li class="toctree-l2"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-13-9" id="toctree-collapse-13-9"/><div class="collapse"><a class="reference internal" href="../../solutions/reference-designs/eval-ad-amr/index.html">EVAL-AD-AMR</a><label for="toctree-collapse-13-9"><div class="icon"></div></label></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../../solutions/reference-designs/eval-ad-amr/diy-setup.html">EVAL-AD-AMR Hardware Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../solutions/reference-designs/eval-ad-amr/ros2-architecture.html">EVAL-AD-AMR ROS2 architecture</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../solutions/reference-designs/eval-ad-amr/ros2-examples.html">EVAL-AD-AMR ROS2 examples</a></li>
</ul>
</li>
<li class="toctree-l2"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-13-10" id="toctree-collapse-13-10"/><div class="collapse"><a class="reference internal" href="../../solutions/reference-designs/eval-cn0503-ardz/index.html">EVAL-CN0503-ARDZ</a><label for="toctree-collapse-13-10"><div class="icon"></div></label></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../../solutions/reference-designs/eval-cn0503-ardz/cn0503-software/index.html">Software User Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../solutions/reference-designs/eval-cn0503-ardz/fluorescence-measurement/index.html">Fluorescence Measurement Demo</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../solutions/reference-designs/eval-cn0503-ardz/nitrate-measurement/index.html">Nitrate Measurement Demo</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../solutions/reference-designs/eval-cn0503-ardz/pH-measurement/index.html">pH Measurement Demo</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../solutions/reference-designs/eval-cn0503-ardz/turbidity/index.html">Turbidity Measurement Demo</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../solutions/reference-designs/eval-cn0565-ardz/index.html">EVAL-CN0565-ARDZ</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../solutions/reference-designs/eval-cn0575-rpiz/index.html">EVAL-CN0575-RPIZ</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../solutions/reference-designs/eval-cn0577-fmcz/index.html">EVAL-CN0577-FMCZ</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../solutions/reference-designs/eval-ess1-sys/index.html">EVAL-ESS1-SYS</a></li>
<li class="toctree-l2"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-13-11" id="toctree-collapse-13-11"/><div class="collapse"><a class="reference internal" href="../../solutions/reference-designs/eval-isomax/index.html">EVAL-ISOMAX</a><label for="toctree-collapse-13-11"><div class="icon"></div></label></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../../solutions/reference-designs/eval-isomax/hardware_guide/index.html">Hardware User Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../solutions/reference-designs/eval-isomax/software_guide/index.html">Software User Guide</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">University Program</span></p>
<ul>
<li class="toctree-l1"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-14" id="toctree-collapse-14"/><div class="collapse"><a class="reference internal" href="../../university/index.html">Engineering University Program</a><label for="toctree-collapse-14"><div class="icon"></div></label></div><ul>
<li class="toctree-l2"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-14-1" id="toctree-collapse-14-1"/><div class="collapse"><a class="reference internal" href="../../university/active_learning/index.html">Active Learning: Student-oriented Lab Exercises</a><label for="toctree-collapse-14-1"><div class="icon"></div></label></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../../university/active_learning/wien_bridge_oscillator/index.html">Activity: The Wien Bridge Oscillator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../university/active_learning/efficiency_power_loss/index.html">Activity: Efficiency, Power Loss, and Thermal Management</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Learning</span></p>
<ul>
<li class="toctree-l1"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-15" id="toctree-collapse-15"/><div class="collapse"><a class="reference internal" href="../../learning/index.html">Learning! Tutorials, Workshops, Etc</a><label for="toctree-collapse-15"><div class="icon"></div></label></div><ul>
<li class="toctree-l2"><a class="reference internal" href="../../learning/tutorial_prec_adc/index.html">Precision ADC Tutorial</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../learning/converter_connectivity_tutorial/index.html">Converter Connectivity Tutorial</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../learning/sw_infrastructure/index.html">Software Infrastructure for designing with ADCs, DACs, and Sensors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../learning/tools_for_ls/index.html">Tools for Low Speed Mixed Signal System Design</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../learning/tools_for_prec_wb/index.html">Tools for Precision Wideband Mixed Signal System Design</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../learning/tools_for_hs/index.html">Tools for High-Speed Mixed Signal System Design</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../learning/workshop_what_sw_for_sdr/index.html">What software do I need for my SDR?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../learning/workshops_software_defined_instrumentation/index.html">Software Defined Instrumentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../learning/workshops_introduction_to_electronics/index.html">Introduction to Electronics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../learning/workshops_embedded_baremetal/index.html">Embedded Baremetal</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../learning/workshops_embedded_linux/index.html">Embedded Linux</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Contributing and Guidelines</span></p>
<ul>
<li class="toctree-l1"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-16" id="toctree-collapse-16"/><div class="collapse"><a class="reference internal" href="../../contributing/creating_new_pages.html">Creating new pages</a><label for="toctree-collapse-16"><div class="icon"></div></label></div><ul>
<li class="toctree-l2"><a class="reference internal" href="../../contributing/template/eval.html">Evaluation Boards</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/docs_guidelines.html">Documentation guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/forking_publishing.html">Forking and publishing</a></li>
</ul>
</body>
</html>

</div>
        </div>
      </div>

  <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper" id="top-anchor">
          <div class="body-header">
    <nav class="breadcrumb">
        <ol>
          <li><a href="index.html">Libm2k</a></li>
          </ol>
    </nav>
  </div>

          <div class="body" role="main">
            
  <section id="command-line-utility">
<span id="libm2k-m2kcli"></span><h1>Command line utility<a class="headerlink" href="#command-line-utility" title="Link to this heading"></a></h1>
<p>m2kcli is a command-line frontend for libm2k.</p>
<p>m2kcli is composed from many commands, each representing a major functionality
of the ADALM-2000:</p>
<ul class="simple">
<li><p>analog-in: oscilloscope and voltmeter</p></li>
<li><p>analog-out: signal generator</p></li>
<li><p>digital: logic analyzer and pattern generator</p></li>
<li><p>power-supply</p></li>
</ul>
<p>m2kcli offers an easy way to communicate with other devices using digital
protocols such as:</p>
<ul class="simple">
<li><p>SPI</p></li>
<li><p>I²C</p></li>
<li><p>UART</p></li>
<li><p>UART Terminal</p></li>
</ul>
<section id="how-to-install-it">
<h2>How to install it?<a class="headerlink" href="#how-to-install-it" title="Link to this heading"></a></h2>
<section id="windows">
<h3>Windows<a class="headerlink" href="#windows" title="Link to this heading"></a></h3>
<p>In the <em>Select Additional Tasks</em> window, select <em>Install libm2k tools</em> option.</p>
</section>
</section>
<section id="how-to-build-it">
<h2>How to build it?<a class="headerlink" href="#how-to-build-it" title="Link to this heading"></a></h2>
<p>Build and install libm2k. Instruction can be found
<a class="reference internal" href="index.html#libm2k"><span class="std std-ref">here</span></a>. Make sure to enable tools
option.</p>
<section id="enable-tools-on-linux-or-osx">
<h3>Enable tools on Linux or OSX<a class="headerlink" href="#enable-tools-on-linux-or-osx" title="Link to this heading"></a></h3>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~/libm2k/build$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cmake<span class="w"> </span>-DENABLE_TOOLS<span class="o">=</span>ON<span class="w"> </span>../
</pre></div>
</div>
<div class="clear-left"></div></div></div></section>
<section id="enable-tools-on-windows">
<h3>Enable tools on Windows<a class="headerlink" href="#enable-tools-on-windows" title="Link to this heading"></a></h3>
<p>Check the <em>ENABLE_TOOLS</em> box in CMake GUI.</p>
</section>
</section>
<section id="commands">
<h2>Commands<a class="headerlink" href="#commands" title="Link to this heading"></a></h2>
<p>All commands require an URI. URI describes the context location.</p>
<ul class="simple">
<li><p>auto - establish an USB connection detecting the available USB</p></li>
<li><p>usb:XX.XX.X</p></li>
<li><p>ip: XXX.XXX.XXX.XXX - standard ip address 192.168.2.1</p></li>
<li><p>serial:/dev/ttyAMA0,115200n8</p></li>
<li><p>local:</p></li>
</ul>
<p>Options:</p>
<div class="line-block">
<div class="line"><strong>help</strong></div>
<div class="line">Show the help message and exit.</div>
</div>
<div class="line-block">
<div class="line"><strong>quiet</strong></div>
<div class="line">Return the result only.</div>
</div>
<section id="analog-in">
<h3>analog-in<a class="headerlink" href="#analog-in" title="Link to this heading"></a></h3>
<section id="synopsis">
<h4>synopsis<a class="headerlink" href="#synopsis" title="Link to this heading"></a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>m2kcli<span class="w"> </span>analog-in<span class="w"> </span>&lt;uri&gt;
<span class="w">                 </span><span class="o">[</span>-h<span class="w"> </span><span class="p">|</span><span class="w"> </span>--help<span class="o">]</span>
<span class="w">                 </span><span class="o">[</span>-q<span class="w"> </span><span class="p">|</span><span class="w"> </span>--quiet<span class="o">]</span>
<span class="w">                 </span><span class="o">[</span>-C<span class="w"> </span><span class="p">|</span><span class="w"> </span>--calibrate<span class="o">]</span>
<span class="w">                 </span><span class="o">[</span>-v<span class="w"> </span><span class="p">|</span><span class="w"> </span>--voltage<span class="w"> </span><span class="nv">channel</span><span class="o">=</span>&lt;index&gt;,...<span class="w"> </span><span class="nv">raw</span><span class="o">=</span>&lt;value&gt;<span class="o">]</span>
<span class="w">                 </span><span class="o">[</span>-c<span class="w"> </span><span class="p">|</span><span class="w"> </span>--capture<span class="w"> </span><span class="nv">channel</span><span class="o">=</span>&lt;index&gt;,...<span class="w"> </span><span class="nv">buffer_size</span><span class="o">=</span>&lt;size&gt;<span class="w"> </span><span class="nv">raw</span><span class="o">=</span>&lt;value&gt;<span class="w"> </span><span class="o">[</span><span class="nv">nb_samples</span><span class="o">=</span>&lt;value&gt;<span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="nv">format</span><span class="o">=</span>&lt;type&gt;<span class="o">]]</span>
<span class="w">                 </span><span class="o">[</span>-g<span class="w"> </span><span class="p">|</span><span class="w"> </span>--get<span class="w"> </span>&lt;attribute&gt;...<span class="o">]</span>
<span class="w">                 </span><span class="o">[</span>-G<span class="w"> </span><span class="p">|</span><span class="w"> </span>--get-channel<span class="w"> </span><span class="nv">channel</span><span class="o">=</span>&lt;index&gt;,...<span class="w"> </span>&lt;attribute&gt;...<span class="o">]</span>
<span class="w">                 </span><span class="o">[</span>-s<span class="w"> </span><span class="p">|</span><span class="w"> </span>--set<span class="w"> </span>&lt;attribute&gt;<span class="o">=</span>&lt;value&gt;...<span class="o">]</span>
<span class="w">                 </span><span class="o">[</span>-S<span class="w"> </span><span class="p">|</span><span class="w"> </span>--set-channel<span class="w"> </span><span class="nv">channel</span><span class="o">=</span>&lt;index&gt;<span class="w"> </span>&lt;attribute&gt;<span class="o">=</span>&lt;value&gt;...<span class="o">]</span>
</pre></div>
</div>
</section>
<section id="description">
<h4>description<a class="headerlink" href="#description" title="Link to this heading"></a></h4>
<p>analog-in command controls the analogical input component, having two main
functions: oscilloscope and voltmeter. The available channels for analog in are
channel 0 and channel 1.</p>
<p>Pinout:</p>
<div class="line-block">
<div class="line">▤ ▥ □ □ □ □ □ □ □ □ □ □ □ □ □</div>
<div class="line">▤ ▥ □ □ □ □ □ □ □ □ □ □ □ □ □</div>
</div>
<p>Options:</p>
<p><strong>calibrate</strong></p>
<p>Calibrate the ADC.</p>
<p><strong>voltage</strong></p>
<p>Return the voltage of the given channels. The result is printed to standard
output.</p>
<p>Mandatory arguments:</p>
<ul class="simple">
<li><p>channel - one or both indexes are possible to be specified</p></li>
<li><p>raw - 0 = processed values, 1 = raw values</p></li>
</ul>
<p>Examples:</p>
<p>Retrieve the average voltage of both channels as raw values:</p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>m2kcli<span class="w"> </span>analog-in<span class="w"> </span>auto<span class="w"> </span>-v<span class="w"> </span><span class="nv">channel</span><span class="o">=</span><span class="m">0</span>,1<span class="w"> </span><span class="nv">raw</span><span class="o">=</span><span class="m">1</span>
</pre></div>
</div>
<div class="clear-left"></div></div></div><p>Retrieve only the processed voltage for the first channel:</p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>m2kcli<span class="w"> </span>analog-in<span class="w"> </span>auto<span class="w"> </span>--voltage<span class="w"> </span><span class="nv">channel</span><span class="o">=</span><span class="m">0</span><span class="w"> </span><span class="nv">raw</span><span class="o">=</span><span class="m">0</span><span class="w"> </span>-q
</pre></div>
</div>
<div class="clear-left"></div></div></div><hr class="docutils" />
<p><strong>capture</strong></p>
<p>Return a specific number of samples. The result is printed to standard output.</p>
<p>Mandatory arguments:</p>
<ul class="simple">
<li><p>channel - one or both indexes are possible to be specified</p></li>
<li><p>buffer_size - the number of samples into one iio_buffer</p></li>
<li><p>raw - 0 = processed values, 1 = raw values</p></li>
</ul>
<p>Optional arguments:</p>
<ul class="simple">
<li><p>nb_samples – integer value that represents the number of samples to be
captured.
Default value is 0, continuously capturing samples until the process is force stopped</p></li>
<li><p>format – csv/binary. The way the samples will be printed. Default type is csv</p></li>
</ul>
<p>Examples:</p>
<p>Capture 2048 unprocessed samples from both channels using a buffer of length
1024 and save them into a binary file:</p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>m2kcli<span class="w"> </span>analog-in<span class="w"> </span>auto<span class="w"> </span>--capture<span class="w"> </span><span class="nv">channel</span><span class="o">=</span><span class="m">0</span>,1<span class="w"> </span><span class="nv">buffer_size</span><span class="o">=</span><span class="m">1024</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="nv">nb_samples</span><span class="o">=</span><span class="m">2048</span><span class="w"> </span><span class="nv">raw</span><span class="o">=</span><span class="m">1</span><span class="w"> </span><span class="nv">format</span><span class="o">=</span>binary<span class="w"> </span>&gt;<span class="w"> </span>file.bin
</pre></div>
</div>
<div class="clear-left"></div></div></div><p>Continuous samples capturing:</p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>m2kcli<span class="w"> </span>analog-in<span class="w"> </span>ip:192.168.2.1<span class="w"> </span>-c<span class="w"> </span><span class="nv">channel</span><span class="o">=</span><span class="m">1</span><span class="w"> </span><span class="nv">buffer_size</span><span class="o">=</span><span class="m">1024</span><span class="w"> </span><span class="nv">raw</span><span class="o">=</span><span class="m">0</span>
</pre></div>
</div>
<div class="clear-left"></div></div></div><hr class="docutils" />
<p><strong>get</strong></p>
<p>Return the value of the global attributes. Enumerate the attributes with a space
between them.</p>
<p>Attributes:</p>
<ul class="simple">
<li><p>sampling_frequency</p></li>
<li><p>oversampling_ratio</p></li>
<li><p>trigger_source</p></li>
<li><p>trigger_delay</p></li>
</ul>
<p>Examples:</p>
<p>Display all global attributes</p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>m2kcli<span class="w"> </span>analog-in<span class="w"> </span>auto<span class="w"> </span>--get<span class="w"> </span>all
</pre></div>
</div>
<div class="clear-left"></div></div></div><p>Get the sampling frequency and the oversampling ratio</p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>m2kcli<span class="w"> </span>analog-in<span class="w"> </span>auto<span class="w"> </span>-g<span class="w"> </span>sampling_frequency<span class="w"> </span>oversampling_ratio
</pre></div>
</div>
<div class="clear-left"></div></div></div><hr class="docutils" />
<p><strong>get-channel</strong></p>
<p>Return the value of the attributes corresponding the the given channels.</p>
<p>Mandatory arguments:</p>
<ul class="simple">
<li><p>channel - one or both indexes are possible to be specified</p></li>
</ul>
<p>Attributes:</p>
<ul class="simple">
<li><p>range</p></li>
<li><p>trigger_level</p></li>
<li><p>trigger_condition</p></li>
<li><p>trigger_mode</p></li>
<li><p>trigger_hysteresis</p></li>
</ul>
<p>Examples:</p>
<p>Get all attributes of both channels</p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>m2kcli<span class="w"> </span>analog-in<span class="w"> </span>--get-channel<span class="w"> </span><span class="nv">channel</span><span class="o">=</span><span class="m">0</span>,1<span class="w"> </span>all
</pre></div>
</div>
<div class="clear-left"></div></div></div><p>Get the triggering condition of the second channel</p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>m2kcli<span class="w"> </span>analog-in<span class="w"> </span>-G<span class="w"> </span><span class="nv">channel</span><span class="o">=</span><span class="m">1</span><span class="w"> </span>trigger_condition
</pre></div>
</div>
<div class="clear-left"></div></div></div><hr class="docutils" />
<p><strong>set</strong></p>
<p>Set the value of the global attributes.</p>
<p>Attributes:</p>
<ul class="simple">
<li><p>sampling_frequency - {1000 | 10000 | 100000 | 1000000 | 10000000 | 100000000}</p></li>
<li><p>oversampling_ratio - integer</p></li>
<li><p>trigger_source - {channel_1 | channel_2 | channel_1_or_channel_2 | channel_1_and_channel_2 | channel_1_xor_channel_2}</p></li>
<li><p>trigger_delay - integer</p></li>
<li><p>kernel_buffers - integer</p></li>
</ul>
<p>Examples:</p>
<p>Set sampling_frequency and trigger_source</p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>m2kcli<span class="w"> </span>analog-in<span class="w"> </span>auto<span class="w"> </span>--set<span class="w"> </span><span class="nv">sampling_frequency</span><span class="o">=</span><span class="m">100000</span><span class="w"> </span><span class="nv">trigger_source</span><span class="o">=</span>channel_1
</pre></div>
</div>
<div class="clear-left"></div></div></div><hr class="docutils" />
<p><strong>set-channel</strong></p>
<p>Set the value of the attributes corresponding to the given channels.</p>
<p>Mandatory arguments:</p>
<ul class="simple">
<li><p>channel - one or both indexes are possible to be specified</p></li>
</ul>
<p>Attributes:</p>
<ul class="simple">
<li><p>range - {high | low}</p></li>
<li><p>trigger_level - integer</p></li>
<li><p>trigger_condition - {rising_edge | falling_edge | low_level | high_level}</p></li>
<li><p>trigger_mode - {always | analog | digital | digital_or_analog | digital_and_analog | digital_xor_analog | n_digital_or_analog | n_digital_and_analog | n_digital_xor_analog}</p></li>
<li><p>trigger_hysteresis - double (volts)</p></li>
</ul>
<p>Examples:</p>
<p>Set the range and the trigger_mode</p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>m2kcli<span class="w"> </span>analog-in<span class="w"> </span>auto<span class="w"> </span>--set-channel<span class="w"> </span><span class="nv">channel</span><span class="o">=</span><span class="m">1</span><span class="w"> </span><span class="nv">range</span><span class="o">=</span>high<span class="w"> </span><span class="nv">trigger_mode</span><span class="o">=</span>analog
</pre></div>
</div>
<div class="clear-left"></div></div></div></section>
</section>
<hr class="docutils" />
<section id="analog-out">
<h3>analog-out<a class="headerlink" href="#analog-out" title="Link to this heading"></a></h3>
<section id="id1">
<h4>synopsis<a class="headerlink" href="#id1" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">m2kcli</span> <span class="n">analog</span><span class="o">-</span><span class="n">out</span> <span class="o">&lt;</span><span class="n">uri</span><span class="o">&gt;</span>
                  <span class="p">[</span><span class="o">-</span><span class="n">h</span> <span class="o">|</span> <span class="o">--</span><span class="n">help</span><span class="p">]</span>
                  <span class="p">[</span><span class="o">-</span><span class="n">q</span> <span class="o">|</span> <span class="o">--</span><span class="n">quiet</span><span class="p">]</span>
                  <span class="p">[</span><span class="o">-</span><span class="n">C</span> <span class="o">|</span> <span class="o">--</span><span class="n">calibrate</span><span class="p">]</span>
                  <span class="p">[</span><span class="o">-</span><span class="mi">9</span> <span class="o">|</span> <span class="o">--</span><span class="n">generate</span> <span class="n">channel</span><span class="o">=&lt;</span><span class="n">index</span><span class="o">&gt;</span><span class="p">,</span><span class="o">...</span> <span class="n">cyclic</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span> <span class="n">raw</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span> <span class="p">[</span><span class="n">buffer_size</span><span class="o">=&lt;</span><span class="n">size</span><span class="o">&gt;</span><span class="p">]</span> <span class="p">[</span><span class="nb">format</span><span class="o">=&lt;</span><span class="nb">type</span><span class="o">&gt;</span><span class="p">]]</span>
                  <span class="p">[</span><span class="o">-</span><span class="n">G</span> <span class="o">|</span> <span class="o">--</span><span class="n">get</span><span class="o">-</span><span class="n">channel</span> <span class="n">channel</span><span class="o">=&lt;</span><span class="n">index</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">attribute</span><span class="o">&gt;...</span><span class="p">]</span>
                  <span class="p">[</span><span class="o">-</span><span class="n">S</span> <span class="o">|</span> <span class="o">--</span><span class="nb">set</span><span class="o">-</span><span class="n">channel</span> <span class="n">channel</span><span class="o">=&lt;</span><span class="n">index</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">attribute</span><span class="o">&gt;=&lt;</span><span class="n">value</span><span class="o">&gt;...</span><span class="p">]</span>
</pre></div>
</div>
</section>
<section id="id2">
<h4>description<a class="headerlink" href="#id2" title="Link to this heading"></a></h4>
<p>analog-out command controls the analogical output component, having the main
functions of a signal generator. The available channels for analog out are
channel 0 and channel 1.</p>
<p>Pinout:</p>
<div class="line-block">
<div class="line">□ □ □ □ ▤ □ □ □ □ □ □ □ □ □ □</div>
<div class="line">□ □ □ □ ▥ □ □ □ □ □ □ □ □ □ □</div>
</div>
<p>Options:</p>
<div class="line-block">
<div class="line"><strong>calibrate</strong></div>
<div class="line">Calibrate both DACs.</div>
</div>
<div class="line-block">
<div class="line"><strong>generate</strong></div>
<div class="line">Generate signals for the specified channels. The samples are read from the
standard input.</div>
</div>
<p>Mandatory arguments:</p>
<ul class="simple">
<li><p>channel - one or both indexes are possible to be specified</p></li>
<li><p>cyclic - 0 = non-cyclic mode, 1 = cyclic mode</p></li>
<li><p>raw - 0 = processed values, 1 = raw values</p></li>
</ul>
<p>Optional arguments:</p>
<ul class="simple">
<li><p>buffer_size - size of the output buffer; default value is 256</p></li>
<li><p>format - csv/binary. The way the samples will be read. Default type is csv</p></li>
</ul>
<p>Examples:</p>
<p>Generate a cyclic signal based on the samples located in file.csv</p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>m2kcli<span class="w"> </span>analog-out<span class="w"> </span>auto<span class="w"> </span>--generate<span class="w"> </span><span class="nv">channel</span><span class="o">=</span><span class="m">0</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="nv">cyclic</span><span class="o">=</span><span class="m">1</span><span class="w"> </span><span class="nv">raw</span><span class="o">=</span><span class="m">0</span><span class="w"> </span><span class="nv">buffer_size</span><span class="o">=</span><span class="m">1024</span><span class="w"> </span>&lt;<span class="w"> </span>file.csv
</pre></div>
</div>
<div class="clear-left"></div></div></div><hr class="docutils" />
<p><strong>get-channel</strong></p>
<p>Return the value of the attributes corresponding to the given channel.</p>
<p>Mandatory arguments:</p>
<ul class="simple">
<li><p>channel - one or both indexes are possible to be specified</p></li>
</ul>
<p>Attributes:</p>
<ul class="simple">
<li><p>sampling_frequency</p></li>
<li><p>oversampling_ratio</p></li>
</ul>
<p>Examples:</p>
<p>Get all attributes of the first channel</p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>m2kcli<span class="w"> </span>analog-out<span class="w"> </span>auto<span class="w"> </span>-G<span class="w"> </span><span class="nv">channel</span><span class="o">=</span><span class="m">0</span><span class="w"> </span>all
</pre></div>
</div>
<div class="clear-left"></div></div></div><hr class="docutils" />
<p><strong>set-channel</strong></p>
<p>Set the value of the attributes corresponding to the given channel.</p>
<p>Mandatory arguments:</p>
<ul class="simple">
<li><p>channel - one or both indexes are possible to be specified</p></li>
</ul>
<p>Attributes:</p>
<ul class="simple">
<li><p>sampling_frequency - {750 | 7500 | 75000 | 750000 | 7500000 | 75000000}</p></li>
<li><p>oversampling_ratio - integer</p></li>
</ul>
<p>Examples:</p>
<p>Set the sampling frequency of both channel to 7500</p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>m2kcli<span class="w"> </span>analog-out<span class="w"> </span>auto<span class="w"> </span>-S<span class="w"> </span><span class="nv">channel</span><span class="o">=</span><span class="m">0</span>,1<span class="w"> </span><span class="nv">sampling_frequency</span><span class="o">=</span><span class="m">7500</span>
</pre></div>
</div>
<div class="clear-left"></div></div></div></section>
</section>
<hr class="docutils" />
<section id="digital">
<h3>digital<a class="headerlink" href="#digital" title="Link to this heading"></a></h3>
<section id="id3">
<h4>synopsis<a class="headerlink" href="#id3" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">m2kcli</span> <span class="n">digital</span> <span class="o">&lt;</span><span class="n">uri</span><span class="o">&gt;</span>
                <span class="p">[</span><span class="o">-</span><span class="n">h</span> <span class="o">|</span> <span class="o">--</span><span class="n">help</span><span class="p">]</span>
                <span class="p">[</span><span class="o">-</span><span class="n">q</span> <span class="o">|</span> <span class="o">--</span><span class="n">quiet</span><span class="p">]</span>
                <span class="p">[</span><span class="o">-</span><span class="n">c</span> <span class="o">|</span> <span class="o">--</span><span class="n">capture</span> <span class="n">buffer_size</span><span class="o">=&lt;</span><span class="n">size</span><span class="o">&gt;</span> <span class="p">[</span><span class="n">nb_samples</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span><span class="p">]</span> <span class="p">[</span><span class="nb">format</span><span class="o">=&lt;</span><span class="nb">type</span><span class="o">&gt;</span><span class="p">]]</span>
                <span class="p">[</span><span class="o">-</span><span class="mi">9</span> <span class="o">|</span> <span class="o">--</span><span class="n">generate</span> <span class="n">channel</span><span class="o">=&lt;</span><span class="n">index</span><span class="o">&gt;</span><span class="p">,</span><span class="o">...</span> <span class="n">cyclic</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span> <span class="p">[</span><span class="n">buffer_size</span><span class="o">=&lt;</span><span class="n">size</span><span class="o">&gt;</span><span class="p">]</span> <span class="p">[</span><span class="nb">format</span><span class="o">=&lt;</span><span class="nb">type</span><span class="o">&gt;</span><span class="p">]]</span>
                <span class="p">[</span><span class="o">-</span><span class="n">g</span> <span class="o">|</span> <span class="o">--</span><span class="n">get</span> <span class="o">&lt;</span><span class="n">attribute</span><span class="o">&gt;...</span><span class="p">]</span>
                <span class="p">[</span><span class="o">-</span><span class="n">G</span> <span class="o">|</span> <span class="o">--</span><span class="n">get</span><span class="o">-</span><span class="n">channel</span> <span class="n">channel</span><span class="o">=&lt;</span><span class="n">index</span><span class="o">&gt;</span><span class="p">,</span><span class="o">...</span> <span class="o">&lt;</span><span class="n">attribute</span><span class="o">&gt;...</span><span class="p">]</span>
                <span class="p">[</span><span class="o">-</span><span class="n">s</span> <span class="o">|</span> <span class="o">--</span><span class="nb">set</span> <span class="o">&lt;</span><span class="n">attribute</span><span class="o">&gt;=&lt;</span><span class="n">value</span><span class="o">&gt;...</span><span class="p">]</span>
                <span class="p">[</span><span class="o">-</span><span class="n">S</span> <span class="o">|</span> <span class="o">--</span><span class="nb">set</span><span class="o">-</span><span class="n">channel</span> <span class="n">channel</span><span class="o">=&lt;</span><span class="n">index</span><span class="o">&gt;</span><span class="p">,</span><span class="o">...</span> <span class="o">&lt;</span><span class="n">attribute</span><span class="o">&gt;=&lt;</span><span class="n">value</span><span class="o">&gt;...</span><span class="p">]</span>
</pre></div>
</div>
</section>
<section id="description-2">
<span id="id4"></span><h4>description<a class="headerlink" href="#description-2" title="Link to this heading"></a></h4>
<p>digital command controls the digital input and output component, having two main
functions: logic analyzer and pattern generator. The available channels for
digital are between 0 and 15.</p>
<p>Pinout:</p>
<div class="line-block">
<div class="line">□ □ □ □ □ □ □ ■ ■ ■ ■ ■ ■ ■ ■</div>
<div class="line">□ □ □ □ □ □ □ ■ ■ ■ ■ ■ ■ ■ ■</div>
</div>
<p>Options:</p>
<div class="line-block">
<div class="line"><strong>capture</strong></div>
<div class="line">Return a specific number of samples. The result is printed to standard output.</div>
</div>
<p>Mandatory arguments:</p>
<ul class="simple">
<li><p>buffer_size - the number of samples into one iio_buffer</p></li>
</ul>
<p>Optional arguments:</p>
<ul class="simple">
<li><p>nb_samples - integer value that represents the number of samples to be captured.
Default value is 0 , continuously capturing samples until the program is force
stopped</p></li>
<li><p>format - csv/binary. The way the samples will be printed. Default type is csv</p></li>
</ul>
<p>Examples:</p>
<p>Capture 100 samples</p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>m2kcli<span class="w"> </span>digital<span class="w"> </span>auto<span class="w"> </span>-c<span class="w"> </span><span class="nv">buffer_size</span><span class="o">=</span><span class="m">60</span><span class="w"> </span><span class="nv">nb_samples</span><span class="o">=</span><span class="m">100</span>
</pre></div>
</div>
<div class="clear-left"></div></div></div><p>Capture samples continuously, binary format</p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>m2kcli<span class="w"> </span>digital<span class="w"> </span>auto<span class="w"> </span>-c<span class="w"> </span><span class="nv">buffer_size</span><span class="o">=</span><span class="m">1000</span><span class="w"> </span><span class="nv">format</span><span class="o">=</span>binary
</pre></div>
</div>
<div class="clear-left"></div></div></div><hr class="docutils" />
<p><strong>generate</strong></p>
<p>Generate digital signals for the specified channels.The samples are read from
the standard input.</p>
<p>Mandatory arguments:</p>
<ul class="simple">
<li><p>channel - one or more indexes are possible to be specified</p></li>
<li><p>cyclic - 0 = non-cyclic mode, 1 = cyclic mode</p></li>
</ul>
<p>Optional arguments:</p>
<ul class="simple">
<li><p>buffer_size - size of the output buffer; default value is 256</p></li>
<li><p>format - csv/binary. The way the samples will be read. Default type is csv</p></li>
</ul>
<p>Examples:</p>
<p>Generate a cyclic signal for the given channels based on the samples located in file.csv</p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>m2kcli<span class="w"> </span>digital<span class="w"> </span>auto<span class="w"> </span>-9<span class="w"> </span><span class="nv">channel</span><span class="o">=</span><span class="m">0</span>,1,4,5,14<span class="w"> </span><span class="nv">cyclic</span><span class="o">=</span><span class="m">1</span><span class="w"> </span>&lt;<span class="w"> </span>file.csv
</pre></div>
</div>
<div class="clear-left"></div></div></div><hr class="docutils" />
<p><strong>get</strong></p>
<p>Return the value of the global attributes.</p>
<p>Attributes:</p>
<ul class="simple">
<li><p>sampling_frequency_in</p></li>
<li><p>sampling_frequency_out</p></li>
<li><p>trigger_delay</p></li>
<li><p>trigger_mode</p></li>
</ul>
<p>Examples:</p>
<p>Get all attributes</p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>m2kcli<span class="w"> </span>digital<span class="w"> </span>auto<span class="w"> </span>-g<span class="w"> </span>all
</pre></div>
</div>
<div class="clear-left"></div></div></div><hr class="docutils" />
<p><strong>get-channel</strong></p>
<p>Return the value of the attributes corresponding the the given channels.</p>
<p>Mandatory arguments:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">channel</span> <span class="o">-</span> <span class="n">one</span> <span class="ow">or</span> <span class="n">more</span> <span class="n">indexes</span> <span class="n">are</span> <span class="n">possible</span> <span class="n">to</span> <span class="n">be</span> <span class="n">specified</span>
</pre></div>
</div>
<p>Attributes:</p>
<ul class="simple">
<li><p>value</p></li>
<li><p>output_mode</p></li>
<li><p>trigger_condition</p></li>
</ul>
<p>Examples:</p>
<p>Get all attributes for the given channels</p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>m2kcli<span class="w"> </span>digital<span class="w"> </span>auto<span class="w"> </span>--get-channel<span class="w"> </span><span class="nv">channel</span><span class="o">=</span><span class="m">0</span>,1,2,3,4<span class="w"> </span>all
</pre></div>
</div>
<div class="clear-left"></div></div></div><hr class="docutils" />
<p><strong>set</strong></p>
<p>Set the value of the global attributes.</p>
<p>Attributes:</p>
<ul class="simple">
<li><p>sampling_frequency_in - double</p></li>
<li><p>sampling_frequency_out - double</p></li>
<li><p>trigger_delay - integer</p></li>
<li><p>trigger_mode - {or | and}</p></li>
</ul>
<p>Examples:</p>
<p>Set the trigger mode to ‘or’</p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>m2kcli<span class="w"> </span>digital<span class="w"> </span>auto<span class="w"> </span>-s<span class="w"> </span><span class="nv">trigger_mode</span><span class="o">=</span>or
</pre></div>
</div>
<div class="clear-left"></div></div></div><hr class="docutils" />
<p><strong>set-channel</strong></p>
<p>Set the value of the attributes corresponding to the given channels.</p>
<p>Mandatory attributes:</p>
<ul class="simple">
<li><p>channel - one or more indexes are possible to be specified</p></li>
</ul>
<p>Attributes:</p>
<ul class="simple">
<li><p>value - {0 | 1}</p></li>
<li><p>output_mode - {open_drain | push_pull}</p></li>
<li><p>trigger_condition - {rising_edge | falling_edge | low_level | high_level | any_edge | no_trigger}</p></li>
</ul>
<p>Examples:</p>
<p>Set for the 7th channel the triggering condition to rising edge</p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>m2kcli<span class="w"> </span>digital<span class="w"> </span>auto<span class="w"> </span>-S<span class="w"> </span><span class="nv">channel</span><span class="o">=</span><span class="m">7</span><span class="w"> </span><span class="nv">trigger_condition</span><span class="o">=</span>rising_edge
</pre></div>
</div>
<div class="clear-left"></div></div></div></section>
</section>
<hr class="docutils" />
<section id="power-supply">
<h3>power-supply<a class="headerlink" href="#power-supply" title="Link to this heading"></a></h3>
<section id="id5">
<h4>synopsis<a class="headerlink" href="#id5" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">m2kcli</span> <span class="n">power</span><span class="o">-</span><span class="n">supply</span> <span class="o">&lt;</span><span class="n">uri</span><span class="o">&gt;</span>
                    <span class="p">[</span><span class="o">-</span><span class="n">h</span> <span class="o">|</span> <span class="o">--</span><span class="n">help</span><span class="p">]</span>
                    <span class="p">[</span><span class="o">-</span><span class="n">q</span> <span class="o">|</span> <span class="o">--</span><span class="n">quiet</span><span class="p">]</span>
                    <span class="p">[</span><span class="o">-</span><span class="n">C</span> <span class="o">|</span> <span class="o">--</span><span class="n">calibrate</span><span class="p">]</span>
                    <span class="p">[</span><span class="o">-</span><span class="n">c</span> <span class="o">|</span> <span class="o">--</span><span class="n">capture</span> <span class="n">channel</span><span class="o">=&lt;</span><span class="n">index</span><span class="o">&gt;...</span><span class="p">]</span>
                    <span class="p">[</span><span class="o">-</span><span class="mi">9</span> <span class="o">|</span> <span class="o">--</span><span class="n">generate</span> <span class="n">channel</span><span class="o">=&lt;</span><span class="n">index</span><span class="o">&gt;</span><span class="p">,</span><span class="o">...</span> <span class="n">value</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span><span class="p">]</span>
</pre></div>
</div>
</section>
<section id="id6">
<h4>description<a class="headerlink" href="#id6" title="Link to this heading"></a></h4>
<p>power-supply command controls the power supply. The available channels for power
supply are channel 0 and channel 1.</p>
<p>Pinout:</p>
<div class="line-block">
<div class="line">□ □ □ ▤ □ □ □ □ □ □ □ □ □ □ □</div>
<div class="line">□ □ □ ▥ □ □ □ □ □ □ □ □ □ □ □</div>
</div>
<p>Options:</p>
<div class="line-block">
<div class="line"><strong>calibrate</strong></div>
<div class="line">Calibrate the ADC.</div>
</div>
<div class="line-block">
<div class="line"><strong>capture</strong></div>
<div class="line">Return the value, read by the power supply. The result is printed to standard
output.</div>
</div>
<p>Mandatory arguments:</p>
<ul class="simple">
<li><p>channel - one or both indexes are possible to be specified</p></li>
</ul>
<p>Examples:</p>
<p>Get the voltage of both channels</p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>m2kcli<span class="w"> </span>power-supply<span class="w"> </span>auto<span class="w"> </span>--capture<span class="w"> </span><span class="nv">channel</span><span class="o">=</span><span class="m">0</span>,1
</pre></div>
</div>
<div class="clear-left"></div></div></div><hr class="docutils" />
<p>generate</p>
<p>Generate the specified value for the given channels.</p>
<p>Mandatory arguments:</p>
<ul class="simple">
<li><p>channel - one or both indexes are possible to be specified</p></li>
<li><p>value - double value, representing the voltage</p></li>
</ul>
<p>Examples:</p>
<p>Generate 4V on both channels</p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>m2kcli<span class="w"> </span>power-supply<span class="w"> </span>auto<span class="w"> </span>--generate<span class="w"> </span><span class="nv">channel</span><span class="o">=</span><span class="m">0</span>,1<span class="w"> </span><span class="nv">value</span><span class="o">=</span><span class="m">4</span>
</pre></div>
</div>
<div class="clear-left"></div></div></div></section>
</section>
<hr class="docutils" />
<section id="spi">
<h3>spi<a class="headerlink" href="#spi" title="Link to this heading"></a></h3>
<section id="id7">
<h4>synopsis<a class="headerlink" href="#id7" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">m2kcli</span> <span class="n">spi</span> <span class="o">&lt;</span><span class="n">uri</span><span class="o">&gt;</span>
            <span class="p">[</span><span class="o">-</span><span class="n">h</span> <span class="o">|</span> <span class="o">--</span><span class="n">help</span><span class="p">]</span>
            <span class="p">[</span><span class="o">-</span><span class="n">i</span> <span class="o">|</span> <span class="o">--</span><span class="n">init</span> <span class="p">[</span><span class="n">frequency</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span> <span class="n">clk</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span> <span class="n">mosi</span><span class="o">=&lt;</span><span class="n">index</span><span class="o">&gt;</span> <span class="p">[</span><span class="n">miso</span><span class="o">=&lt;</span><span class="n">index</span><span class="o">&gt;</span><span class="p">]</span> <span class="n">cs</span><span class="o">=&lt;</span><span class="n">index</span><span class="o">&gt;</span> <span class="n">mode</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span> <span class="n">bit_numbering</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span><span class="p">]</span>
            <span class="p">[</span><span class="o">-</span><span class="n">w</span> <span class="o">|</span> <span class="o">--</span><span class="n">write</span> <span class="n">data</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span><span class="p">,</span><span class="o">...</span><span class="p">]</span>
</pre></div>
</div>
</section>
<section id="id8">
<h4>description<a class="headerlink" href="#id8" title="Link to this heading"></a></h4>
<p>spi command communicates with an SPI device.</p>
<p>Options:</p>
<div class="line-block">
<div class="line"><strong>init</strong></div>
<div class="line">Initialize all channels used by the protocol to communicate.</div>
</div>
<p>Mandatory arguments:</p>
<ul class="simple">
<li><p>frequency - integer</p></li>
<li><p>clk - index of any digital pin</p></li>
<li><p>mosi - index of any digital pin</p></li>
<li><p>cs - index of any digital pin</p></li>
<li><p>mode - {0 | 1 | 2 | 3}</p></li>
<li><p>bit_numbering - {MSB | LSB}</p></li>
</ul>
<p>Optional arguments:</p>
<ul class="simple">
<li><p>miso - index of any digital pin; if miso is absent, write only mode will be activated</p></li>
</ul>
<hr class="docutils" />
<p><strong>write</strong></p>
<p>Write the given data and display back the read data. Before writing, the SPI
protocol must be initialized.</p>
<p>Mandatory arguments:</p>
<ul class="simple">
<li><p>data - list of bytes, comma separated values</p></li>
</ul>
<p>Examples:</p>
<p>Electronics Lab 14 on our wiki page can be found
<a class="reference external" href="https://wiki.analog.com/university/courses/electronics/electronics-lab-14">here</a>.
Configure the connections for ‘Unipolar output operation’ mode:</p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>m2kcli<span class="w"> </span>spi<span class="w"> </span>auto<span class="w"> </span>-i<span class="w"> </span><span class="nv">frequency</span><span class="o">=</span><span class="m">1000000</span><span class="w"> </span><span class="nv">clk</span><span class="o">=</span><span class="m">1</span><span class="w"> </span><span class="nv">mosi</span><span class="o">=</span><span class="m">2</span><span class="w"> </span><span class="nv">miso</span><span class="o">=</span><span class="m">7</span><span class="w"> </span><span class="nv">bit_numbering</span><span class="o">=</span>MSB<span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="nv">cs</span><span class="o">=</span><span class="m">0</span><span class="w"> </span><span class="nv">mode</span><span class="o">=</span><span class="m">3</span><span class="w"> </span>-w<span class="w"> </span><span class="nv">data</span><span class="o">=</span>0x09,0xC4
</pre></div>
</div>
<div class="clear-left"></div></div></div></section>
</section>
<hr class="docutils" />
<section id="i2c">
<h3>i2c<a class="headerlink" href="#i2c" title="Link to this heading"></a></h3>
<section id="id9">
<h4>synopsis<a class="headerlink" href="#id9" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">m2kcli</span> <span class="n">i2c</span> <span class="o">&lt;</span><span class="n">uri</span><span class="o">&gt;</span>
            <span class="p">[</span><span class="o">-</span><span class="n">h</span> <span class="o">|</span> <span class="o">--</span><span class="n">help</span><span class="p">]</span>
            <span class="p">[</span><span class="o">-</span><span class="n">i</span> <span class="o">|</span> <span class="o">--</span><span class="n">init</span> <span class="n">frequency</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span> <span class="n">address</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span> <span class="n">scl</span><span class="o">=&lt;</span><span class="n">index</span><span class="o">&gt;</span> <span class="n">sda</span><span class="o">=&lt;</span><span class="n">index</span><span class="o">&gt;</span> <span class="p">[</span><span class="n">write_only</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span><span class="p">]]</span>
            <span class="p">[</span><span class="o">-</span><span class="n">w</span> <span class="o">|</span> <span class="o">--</span><span class="n">write</span> <span class="n">data</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span><span class="p">,</span><span class="o">...</span> <span class="n">option</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span> <span class="p">[</span><span class="n">write_only</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span><span class="p">]]</span>
            <span class="p">[</span><span class="o">-</span><span class="n">r</span> <span class="o">|</span> <span class="o">--</span><span class="n">read</span> <span class="n">bytes_number</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span> <span class="n">option</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span><span class="p">]</span>
</pre></div>
</div>
</section>
<section id="id10">
<h4>description<a class="headerlink" href="#id10" title="Link to this heading"></a></h4>
<p>i2c command communicates with an I²C device.</p>
<p>Options:</p>
<div class="line-block">
<div class="line"><strong>init</strong></div>
<div class="line">Initialize all channels used by the protocol to communicate.</div>
</div>
<p>Mandatory arguments:</p>
<ul class="simple">
<li><p>frequency - integer</p></li>
<li><p>address - 7/10 bit address</p></li>
<li><p>scl - index of any digital pin</p></li>
<li><p>sda - index of any digital pin</p></li>
</ul>
<p>Optional arguments:</p>
<ul class="simple">
<li><p>write_only - In normal mode, i2c command tries to acknowledge the message, by
checking the ACK/NACK bits. In this case any other front-end cannot be used
for processing the output message. So the purpose of write_only argument is
to provide the possibility of combining m2kcli write mode with other front-end,
for example sigrok-cli, that can decode the message.</p>
<ul>
<li><p>write_only=0: disable write only mode</p></li>
<li><p>write_only=1: enable write only mode</p></li>
<li><p>default value: 0</p></li>
</ul>
</li>
</ul>
<hr class="docutils" />
<p><strong>write</strong></p>
<p>Write the given data. Before writing, the I²C protocol must be initialized.</p>
<p>Mandatory arguments:</p>
<ul class="simple">
<li><p>data - list of bytes, comma separated values</p></li>
<li><p>option - 3-bit number; only one addressing bit must be set; repeated start is optional</p>
<ul>
<li><p>bit 0 - 7-bit addressing</p></li>
<li><p>bit 1 - repeated start</p></li>
<li><p>bit 2 - 10-bit addressing</p></li>
</ul>
</li>
</ul>
<hr class="docutils" />
<p><strong>read</strong></p>
<p>Read a given number of bytes. Before reading, the I²C protocol must be
initialized.</p>
<p>Mandatory arguments:</p>
<ul class="simple">
<li><p>bytes_number - integer</p></li>
<li><p>option - 3-bit number; only one addressing bit must be set; repeated start is optional</p>
<ul>
<li><p>bit 0 - 7-bit addressing</p></li>
<li><p>bit 1 - repeated start</p></li>
<li><p>bit 2 - 10-bit addressing</p></li>
</ul>
</li>
</ul>
<p>Examples:</p>
<p>This example uses EVAL-ADT7420-PMDZ as a slave. Hardware configuration:</p>
<ul class="simple">
<li><p>(ADALM2000) DIO_0 &lt;–&gt; Pin 1 (ADT7420) &lt;–&gt;  10 kilohms resistor &lt;- V+ (ADALM2000)</p></li>
<li><p>(ADALM2000) DIO_1 &lt;–&gt; Pin 3 (ADT7420) &lt;–&gt; 10 kilohms resistor &lt;- V+ (ADALM2000)</p></li>
<li><p>(ADALM2000) GND &lt;–&gt; Pin 5 (ADT7420)</p></li>
<li><p>(ADALM2000) V+ -&gt; Pin 7 (ADT7420)</p></li>
</ul>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>m2kcli<span class="w"> </span>i2c<span class="w"> </span>ip:192.168.2.1<span class="w"> </span>-i<span class="w"> </span><span class="nv">frequency</span><span class="o">=</span><span class="m">100000</span><span class="w"> </span><span class="nv">address</span><span class="o">=</span>0x48<span class="w"> </span><span class="nv">scl</span><span class="o">=</span><span class="m">0</span><span class="w"> </span><span class="nv">sda</span><span class="o">=</span><span class="m">1</span><span class="w"> </span>-w<span class="w"> </span><span class="nv">data</span><span class="o">=</span>0x0B<span class="w"> </span><span class="nv">option</span><span class="o">=</span><span class="m">3</span>
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>m2kcli<span class="w"> </span>i2c<span class="w"> </span>ip:192.168.2.1<span class="w"> </span>-i<span class="w"> </span><span class="nv">frequency</span><span class="o">=</span><span class="m">100000</span><span class="w"> </span><span class="nv">address</span><span class="o">=</span>0x48<span class="w"> </span><span class="nv">scl</span><span class="o">=</span><span class="m">0</span><span class="w"> </span><span class="nv">sda</span><span class="o">=</span><span class="m">1</span><span class="w"> </span>-r<span class="w"> </span><span class="nv">bytes_number</span><span class="o">=</span><span class="m">1</span><span class="w"> </span><span class="nv">option</span><span class="o">=</span><span class="m">1</span>
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>m2kcli<span class="w"> </span>i2c<span class="w"> </span>ip:192.168.2.1<span class="w"> </span>-i<span class="w"> </span><span class="nv">frequency</span><span class="o">=</span><span class="m">100000</span><span class="w"> </span><span class="nv">address</span><span class="o">=</span>0x48<span class="w"> </span><span class="nv">scl</span><span class="o">=</span><span class="m">0</span><span class="w"> </span><span class="nv">sda</span><span class="o">=</span><span class="m">1</span><span class="w"> </span>-w<span class="w"> </span><span class="nv">data</span><span class="o">=</span><span class="m">0</span><span class="w"> </span><span class="nv">option</span><span class="o">=</span><span class="m">3</span>
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>m2kcli<span class="w"> </span>i2c<span class="w"> </span>ip:192.168.2.1<span class="w"> </span>-i<span class="w"> </span><span class="nv">frequency</span><span class="o">=</span><span class="m">100000</span><span class="w"> </span><span class="nv">address</span><span class="o">=</span>0x48<span class="w"> </span><span class="nv">scl</span><span class="o">=</span><span class="m">0</span><span class="w"> </span><span class="nv">sda</span><span class="o">=</span><span class="m">1</span><span class="w"> </span>-r<span class="w"> </span><span class="nv">bytes_number</span><span class="o">=</span><span class="m">2</span><span class="w"> </span><span class="nv">option</span><span class="o">=</span><span class="m">1</span>
</pre></div>
</div>
<div class="clear-left"></div></div></div></section>
</section>
<hr class="docutils" />
<section id="uart">
<h3>uart<a class="headerlink" href="#uart" title="Link to this heading"></a></h3>
<section id="id11">
<h4>synopsis<a class="headerlink" href="#id11" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">m2kcli</span> <span class="n">uart</span> <span class="o">&lt;</span><span class="n">uri</span><span class="o">&gt;</span>
             <span class="p">[</span><span class="o">-</span><span class="n">h</span> <span class="o">|</span> <span class="o">--</span><span class="n">help</span><span class="p">]</span>
             <span class="p">[</span><span class="o">-</span><span class="n">i</span> <span class="o">|</span> <span class="o">--</span><span class="n">init</span> <span class="n">device</span><span class="o">=&lt;</span><span class="n">index</span><span class="o">&gt;</span> <span class="n">baud_rate</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span> <span class="n">parity</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span> <span class="n">bits_number</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span> <span class="n">stop_bits</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span><span class="p">]</span>
             <span class="p">[</span><span class="o">-</span><span class="n">w</span> <span class="o">|</span> <span class="o">--</span><span class="n">write</span> <span class="n">data</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span><span class="p">,</span><span class="o">...</span><span class="p">]</span>
             <span class="p">[</span><span class="o">-</span><span class="n">r</span> <span class="o">|</span> <span class="o">--</span><span class="n">read</span> <span class="n">bytes_number</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span> <span class="nb">format</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span><span class="p">]</span>
</pre></div>
</div>
</section>
<section id="id12">
<h4>description<a class="headerlink" href="#id12" title="Link to this heading"></a></h4>
<p>uart command communicates with an UART device.</p>
<p>Options:</p>
<div class="line-block">
<div class="line"><strong>init</strong></div>
<div class="line">Initialize all channels used by the protocol to communicate.</div>
</div>
<p>Mandatory arguments:</p>
<ul class="simple">
<li><p>device - index of any digital pin</p></li>
<li><p>baud_rate - integer</p></li>
<li><p>parity - {none | odd | even | mark | space}</p></li>
<li><p>bits_number - {5 | 6 | 7 | 8}</p></li>
<li><p>stop_bits - {1 | 1.5 | 2}</p></li>
</ul>
<hr class="docutils" />
<p><strong>write</strong></p>
<p>Write the given data. Before writing, the UART protocol must be initialized.</p>
<p>Mandatory arguments:</p>
<ul class="simple">
<li><p>data - list of bytes, comma separated values</p></li>
</ul>
<hr class="docutils" />
<p><strong>read</strong></p>
<p>Read a given number of bytes. Before reading, the UART protocol must be
initialized.</p>
<p>Mandatory arguments:</p>
<ul class="simple">
<li><p>bytes_number - integer</p></li>
<li><p>format - {text | number}; default type text</p></li>
</ul>
<p>Examples:</p>
<p>Replicate the example found <a class="reference external" href="https://wiki.analog.com/university/courses/electronics/m2k-uart-debug">here</a></p>
<p>First terminal</p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>m2kcli<span class="w"> </span>uart<span class="w"> </span>ip:192.168.2.1<span class="w"> </span>-i<span class="w"> </span><span class="nv">device</span><span class="o">=</span><span class="m">1</span><span class="w"> </span><span class="nv">baud_rate</span><span class="o">=</span><span class="m">9600</span><span class="w"> </span><span class="nv">parity</span><span class="o">=</span>none<span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="nv">bits_number</span><span class="o">=</span><span class="m">8</span><span class="w"> </span><span class="nv">stop_bits</span><span class="o">=</span><span class="m">1</span><span class="w"> </span>-r<span class="w"> </span><span class="nv">bytes_number</span><span class="o">=</span><span class="m">3</span><span class="w"> </span><span class="nv">format</span><span class="o">=</span>text
</pre></div>
</div>
<div class="clear-left"></div></div></div><p>Second terminal</p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>m2kcli<span class="w"> </span>uart<span class="w"> </span>ip:192.168.2.1<span class="w"> </span>-i<span class="w"> </span><span class="nv">device</span><span class="o">=</span><span class="m">0</span><span class="w"> </span><span class="nv">baud_rate</span><span class="o">=</span><span class="m">9600</span><span class="w"> </span><span class="nv">parity</span><span class="o">=</span>none<span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="nv">bits_number</span><span class="o">=</span><span class="m">8</span><span class="w"> </span><span class="nv">stop_bits</span><span class="o">=</span><span class="m">1</span><span class="w"> </span>-w<span class="w"> </span><span class="nv">data</span><span class="o">=</span>ADI
</pre></div>
</div>
<div class="clear-left"></div></div></div></section>
</section>
<hr class="docutils" />
<section id="uart-terminal">
<h3>uart-terminal<a class="headerlink" href="#uart-terminal" title="Link to this heading"></a></h3>
<section id="id13">
<h4>synopsis<a class="headerlink" href="#id13" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">m2kcli</span> <span class="n">uart</span><span class="o">-</span><span class="n">terminal</span> <span class="o">&lt;</span><span class="n">uri</span><span class="o">&gt;</span>
                     <span class="p">[</span><span class="o">-</span><span class="n">h</span> <span class="o">|</span> <span class="o">--</span><span class="n">help</span><span class="p">]</span>
                     <span class="p">[</span><span class="o">-</span><span class="n">i</span> <span class="o">|</span> <span class="o">--</span><span class="n">init</span> <span class="n">rx</span><span class="o">=&lt;</span><span class="n">index</span><span class="o">&gt;</span> <span class="n">tx</span><span class="o">=&lt;</span><span class="n">index</span><span class="o">&gt;</span> <span class="n">baud_rate</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span> <span class="n">parity</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span> <span class="n">bits_number</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span> <span class="n">stop_bits</span><span class="o">=&lt;</span><span class="n">value</span><span class="o">&gt;</span><span class="p">]</span>
</pre></div>
</div>
</section>
<section id="id14">
<h4>description<a class="headerlink" href="#id14" title="Link to this heading"></a></h4>
<p>uart-terminal command continuously communicates with an UART device, simulating
a terminal.</p>
<p>Options:</p>
<div class="line-block">
<div class="line"><strong>init</strong></div>
<div class="line">Initialize the UART communication.</div>
</div>
<p>Mandatory arguments:</p>
<ul class="simple">
<li><p>rx - index of any digital pin</p></li>
<li><p>tx - index of any digital pin</p></li>
<li><p>baud_rate - integer</p></li>
<li><p>parity - {none | odd | even | mark | space}</p></li>
<li><p>bits_number - {5 | 6 | 7 | 8}</p></li>
<li><p>stop_bits - {1 | 1.5 | 2}</p></li>
</ul>
<p>Examples:</p>
<p>Connect ADALM-2000 to an UART device</p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>m2kcli<span class="w"> </span>uart-terminal<span class="w"> </span>auto<span class="w"> </span>-i<span class="w"> </span><span class="nv">baud_rate</span><span class="o">=</span><span class="m">115200</span><span class="w"> </span><span class="nv">rx</span><span class="o">=</span><span class="m">15</span><span class="w"> </span><span class="nv">tx</span><span class="o">=</span><span class="m">7</span><span class="w"> </span><span class="nv">stop_bits</span><span class="o">=</span><span class="m">1</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span><span class="nv">parity</span><span class="o">=</span>none<span class="w"> </span><span class="nv">bits_number</span><span class="o">=</span><span class="m">8</span>
</pre></div>
</div>
<div class="clear-left"></div></div></div></section>
<hr class="docutils" />
<section id="usb-to-serial-uart-adapter-script">
<h4>USB to Serial UART adapter script<a class="headerlink" href="#usb-to-serial-uart-adapter-script" title="Link to this heading"></a></h4>
<p>The script can be found
<a class="icon git reference external" href="https://github.com/analogdevicesinc/libm2k/tree/main/tools/m2kcli/examples/m2k_tty.sh">here</a>.</p>
<p>It creates an UART-Terminal using an ADALM2000 board and connects it to a
<a class="reference external" href="https://linux.die.net/man/7/pty">PTY</a> (pseudoterminal interfaces). This
enables connection to a Serial Terminal Emulator (like GTKTerm, Picocom,
Minicom, Tera Term).</p>
<p>To use the script, run it in a terminal and keep it running, after that, from
another terminal connect to the PTY using a terminal emulator and the settings
displayed on screen. When you want to close the connection just press ENTER
inside the terminal from where the script was ran.</p>
<p>Example of usage, connect a Raspberry Pi to PC using a M2K board:</p>
<p>First terminal</p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>./m2k_tty.sh
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select highlight-text notranslate"><div class="highlight"><pre><span></span>M2K configurations:
    URI: ip:192.168.2.1
    RX pin: 7
    TX pin: 15
Sample details for UART:
    Baud rate: 115200
    Number of data bits: 8
    Parity: none
    Stop bits: 1
Checking uart-terminal...

m2kcli uart-terminal: 43847 is running
Done, connect to **/dev/pts/3** to access the uart terminal

Press any key to close the connection
</pre></div>
</div>
<div class="clear-left"></div></div></div><p>In a second terminal connect using a terminal emulator to the previous displayed
path and the corresponding UART settings.</p>
<p>Second terminal</p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>picocom<span class="w"> </span>-b<span class="w"> </span><span class="m">115200</span><span class="w"> </span>-r<span class="w"> </span>-l<span class="w"> </span>/dev/pts/3
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select highlight-text notranslate"><div class="highlight"><pre><span></span>port is        : /dev/pts/3
flowcontrol    : none
baudrate is    : 115200
parity is      : none
databits are   : 8
stopbits are   : 1

Terminal ready

Raspbian GNU/Linux 10 analog ttyS0

analog login:
analog login: root
Last login: Fri Sep  2 17:17:21 BST 2022 on ttyS0
Linux analog 5.10.63-v7l+ #2 SMP Fri Jun 24 15:44:30 EEST 2022 armv7l

root@analog:~#
</pre></div>
</div>
<div class="clear-left"></div></div></div><p>And the connection will stay active as long as the first terminal will stay
active. To close the connection, just press a key inside the first terminal.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">m2kcli</span> <span class="n">uart</span><span class="o">-</span><span class="n">terminal</span><span class="p">:</span> <span class="mi">43847</span> <span class="ow">is</span> <span class="n">running</span>
<span class="n">Done</span><span class="p">,</span> <span class="n">connect</span> <span class="n">to</span> <span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">pts</span><span class="o">/</span><span class="mi">3</span> <span class="n">to</span> <span class="n">access</span> <span class="n">the</span> <span class="n">uart</span> <span class="n">terminal</span>

<span class="n">Press</span> <span class="nb">any</span> <span class="n">key</span> <span class="n">to</span> <span class="n">close</span> <span class="n">the</span> <span class="n">connection</span>

<span class="o">-</span><span class="n">Killed</span> <span class="n">m2kcli</span> <span class="n">uart</span><span class="o">-</span><span class="n">terminal</span>
<span class="o">-</span><span class="n">Killed</span> <span class="n">socat</span>
<span class="o">--</span><span class="n">Connection</span> <span class="n">closed</span>
</pre></div>
</div>
<p>Requirements:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://linux.die.net/man/1/socat">socat</a></p></li>
<li><p><a class="reference internal" href="../libiio/index.html#libiio-build"><span class="std std-ref">libiio</span></a></p></li>
<li><p>libm2k with <a class="reference internal" href="index.html#m2kcli-build"><span class="std std-ref">m2kcli</span></a></p></li>
</ul>
<p>It uses the socat command to create two connected
<a class="reference external" href="https://linux.die.net/man/7/pty">PTYs</a> and using the m2kcli uart-terminal
command makes the connection between a PTY and our UART-Terminal. After all of
that is done, the user can connect to the other PTY using a Serial Port Terminal
Emulator (like GTKTerm, Picocom, Minicom, Tera Term).</p>
</section>
</section>
</section>
<hr class="docutils" />
<section id="m2kcli-and-sigrok-cli">
<h2>m2kcli and sigrok-cli<a class="headerlink" href="#m2kcli-and-sigrok-cli" title="Link to this heading"></a></h2>
<p>Sigrok is a portable, cross-platform, free open source signal analysis software.
sigrok-cli is a command-line frontend for sigrok. A a much wider documentation
about sigrok-cli can be found on this wiki
<a class="reference external" href="https://sigrok.org/wiki/Sigrok-cli">page</a>.</p>
<p>sigrok-cli can be used for decoding digital signals. m2kcli does not have the
functionality of continuously decoding SPI or I²C signals. Using sigrok-cli for
decoding the data and m2kcli for capturing the data, we can simulate this
functionality.</p>
<p><strong>How to get sigrok-cli?</strong></p>
<p>Sigrok offers two main possibilities of getting the cli. Building from source or
downloading the packages. All the steps are well described on their wiki page.
For building sigrok-cli have a look at this
<a class="reference external" href="https://sigrok.org/wiki/Building">page</a>, while for downloading the binaries
and the distribution packages have a
look<a class="reference external" href="https://sigrok.org/wiki/Downloads#Binaries_and_distribution_packages">here</a>.</p>
<p><strong>Example:</strong></p>
<p>In the following example ADALM-2000 is connected to an I²C device and we are
using a Linux AppImage binary for sigrok-cli.</p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>m2kcli<span class="w"> </span>digital<span class="w"> </span>auto<span class="w"> </span>-s<span class="w"> </span><span class="nv">sampling_frequency_in</span><span class="o">=</span><span class="m">1000000</span>
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>m2kcli<span class="w"> </span>digital<span class="w"> </span>auto<span class="w"> </span>-c<span class="w"> </span><span class="nv">buffer_size</span><span class="o">=</span><span class="m">1000</span><span class="w"> </span><span class="nv">format</span><span class="o">=</span>binary<span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>sigrok-cli<span class="w"> </span>-i<span class="w"> </span>-<span class="w"> </span>-I<span class="w"> </span>binary:numchannels<span class="o">=</span><span class="m">16</span>:samplerate<span class="o">=</span>1mhz<span class="w"> </span>-P<span class="w"> </span><span class="se">\</span>
<span class="w">        </span>i2c:scl<span class="o">=</span><span class="m">15</span>:sda<span class="o">=</span><span class="m">7</span><span class="w"> </span>-A<span class="w"> </span><span class="nv">i2c</span><span class="o">=</span>address-read:address-write:data-read:data-write
</pre></div>
</div>
<div class="clear-left"></div></div></div></section>
</section>


          </div>
              <div class="related">
                &nbsp;
    <a href="digital_communication.html" title="Previous document (Alt+Shift+LeftArrow)" class="prev">Digital communication</a>
    <a href="../matlab/index.html" title="Next document (Alt+Shift+RightArrow)" class="next">MATLAB &amp; Simulink Toolboxes</a>
              </div>
          
        </div>
      </div>
  </div>

  <label id="cancel-area-show-toc" for="input-show-toc"></label>
  <label id="cancel-area-show-localtoc" for="input-show-localtoc"></label>
    <footer>
      &#169;2024, Analog Devices, Inc.
      
      |
      Made with <a href="https://www.sphinx-doc.org/">Sphinx</a>
      &amp; <a href="https://github.com/analogdevicesinc/doctools">Doctools</a>
      
    </footer>
  </body>
</html>